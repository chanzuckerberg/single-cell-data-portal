"DESCRIPTION","DURATION IN MS","NAME","PARENT SUITE","START TIME","STATUS","STOP TIME","SUB SUITE","SUITE","TEST CLASS","TEST METHOD"
"
        A super curator can reupload a dataset to a non-owned collection
        ","9","test__can_reupload_dataset_as_super_curator","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionUploadLinkCurators","test_portal_api","",""
"","3","test__link_fake_collection__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPostUploadLink","test_portal_api","",""
"","2","test_create_migration_revision__published_with_revision","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestCollectionMigrate","test_collection_migrate","",""
"","4","test__generate_s3_credentials__Not_Owner","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestS3Credentials","test_curation_api","",""
"
        `publish_collection_version` should fail if called on a collection version with datasets that have mismatching
        schema versions
        ","6","test_publish_version_fails_on_mismatching_dataset_schema_versions","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","2","test_create_migration_revision__private","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestCollectionMigrate","test_collection_migrate","",""
"","7","test__update_public_collection_verify_fix_consortia_sort_order_OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"A cellxgene public dataset url must be part of a version of the canonical dataset","17","test_reginest_published_anndata_dataset__not_part_of_canonical_dataset","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","3","test__update_collection__Not_Owner","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"","13","test_update_metadata__with_atac_fragment","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"Check that all artifacts are deleted for the given cases.","1","test_cleanup_artifacts__None_OK","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestCleanupArtifacts","test_handle_error","",""
"Test multi-pass consolidation with many fragments.","520","test_consolidate_tiledb_multi_pass_chunking","tests.unit.processing","Tue Sep 23 22:27:33 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","1","test_type_inference[parameters37]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"The 'revising_in' attribute is None for collections which lack a revision","10","test__get_collections_with_auth__OK_2","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","10","test__delete_public_dataset_returns__405","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","2","test__filter_request_with_query_key_not_specified_in_api_spec_returns_400","tests.unit.backend.wmg.api","Tue Sep 23 22:26:14 UTC 2025","passed","Tue Sep 23 22:26:14 UTC 2025","WmgApiV2Tests","test_v2","",""
"","0","test__link__INVALID[protocol-.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","176","test__to_cxg__with_sparse_column_encoding","tests.unit.processing","Tue Sep 23 22:27:33 UTC 2025","passed","Tue Sep 23 22:27:33 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","4","test_patch_private_collection_dataset_invalid_collection_404","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestPatchDataset","test_curation_api","",""
"","0","test_invalid_email[email@place.]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","14","test__get_only_private_collections_with_auth__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","23","test__convert_matrices_to_cxg_arrays__dense_array_writes_successfully","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestCxgGenerationUtils","test_cxg_generation_utils","",""
"Test that TileDB config objects are properly created from dictionaries.","55","test_consolidate_tiledb_config_validation","tests.unit.processing","Tue Sep 23 22:27:33 UTC 2025","passed","Tue Sep 23 22:27:33 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","3","test__delete_key__404","tests.unit.backend.layers.auth","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestKeys","test_auth_keys","",""
"","1","test_anndata_validation_failure[{""anndata"": 1234}]","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_manifest","",""
"
        Asserts a CrossrefFetchException if the GET request fails for any reason
        ","2","test__provider_throws_exception_if_request_fails","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"","0","test__release_only_properly_formatted_semvar__returns_true","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSemvarUtils","test_semvar_utils","",""
"","15","test_update_metadata__invalid_artifact_status","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"","0","test__link__INVALID[doi-https://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","327","test__query_non_indexed_dim_multi_valued__returns_correct_result","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","ExpressionDotPlotTest","test_expression_dotplot","",""
"Test _get_fragment_file_path with S3 file path.","2","test__get_fragment_file_path_s3_file","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","14","test__get_published_collection_verify_body_is_reshaped_correctly__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"","1","test_close_ready_for_prod_with_issues_to_close","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","TestCloseReadyForProd","test_zenhub_close","",""
"
        Given a canonical collection with a published version and an unpublished version where is_auto_version is True,
        creating another unpublished collection version where is_auto_version is True will fail.
        ","15","test_create_collection_version_multiple_auto_versions_true_fails","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","0","test_rollback__unsupported_rollback_type","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"","11609","test__tissue_metadata_generator","tests.unit.backend.cellguide.pipeline","Tue Sep 23 22:27:36 UTC 2025","passed","Tue Sep 23 22:27:48 UTC 2025","TestMetadataGenerator","test_metadata_generator","",""
"The 'revising_in' attribute is equal to the id of the revision Collection","14","test__get_collections_with_auth__OK_3","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","41","test_value_of_existing_secret_returns_value","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestAwsSecret","test_aws_secret","",""
"","0","test_type_inference[parameters60]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_delete_artifacts_CollectionDeleteException_with_H5AD","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"
        Calling PUT /datasets/:dataset_id should fail with 403 Unauthorized
        if the authenticated user is not the owner of a collection
        ","9","test__from_link__Not_Owner","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPutLink","test_curation_api","",""
"
    Test that the `rollup` function correctly accumulates (or rolls up) gene-expression
    values FOR EACH expressed gene and cell count values up the cell type ANCESTOR paths
    grouped by (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>).

    The input:

    1. A cell type ontology subgraph consisting of 4 cell types.

    CL:0000127
    ├── CL:0000644
    ├── CL:0002605
    └── CL:0002627

    2. A gene expression dataframe consisting of expression numeric values for each
    (gene_ontology_term_id, tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    3. The gene expression dataframe also holds total cell counts per tissue_ontology_term_id.
    This value is held in a column called `n_cells_tissue`.
    6. A cell counts dataframe that consists of cell counts for each
    (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    7. We set the `n_cells_tissue` column values to 1000 for all rows
    in the gene expression dataframe.
    8. We set all other numeric column values to `1` in the gene expression dataframe.

    The expected output:

    1. A rolled up gene expression dataframe.
    2. A rolled up cell counts dataframe.
    3. Assert that `n_cells_tissue` column value in the rolled up gene expression dataframe
    does not change for all rows because it should not be rolled up the cell type ontology
    ancestor paths.
    4. Assert that other numeric column values (i.e the columns that are not `n_cells_tissue`)
    in the rolled up gene expression dataframe hold the correct rolled up values.
    5. Assert that the cell counts in the rolled up cell counts dataframe hold the correct
    rolled up values.
    ","20","test__rollup[no_compare_dim_one_ancestor_cell_type_missing_in_one_tissue_but_exists_in_all_others-input_cell_counts_df1-expected_cell_counts_df1-input_gene_expr_df1-expected_gene_expr_df1]","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","","test_rollup","",""
"","1","test_type_inference[parameters75]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","2","test__get_public_collection_verify_consortia_sorted__OK_1","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"","0","test_sanitize_api_query_dict[input_query3-expected_sanitized_query3]","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","","test_wmg_api_helpers","",""
"","30","test_get_dataset_in_a_collection","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetDatasets","test_curation_api","",""
"
        A collection updated with a new DOI and containing datasets should trigger artifact updates to update citation
        for each dataset
        ","23","test_update_collection_change_doi__trigger_dataset_artifact_updates","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollection","test_business","",""
"","0","test__link__OK[raw_data-https://www.google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","10","test__post_token__201","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestAuthToken","test_curation_api","",""
"","1","test_type_inference[parameters64]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","57","test__process_all_chromosomes[cell_type_mapping0-invalid_fragment_coordinates4]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        Test that datasets that do not appear in the processed_datasets variable in log_errors_and_cleanup are skipped
        ","2","test_skip_unprocessed_datasets","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestLogErrorsAndCleanup","test_log_errors_and_cleanup","",""
"","2","test_filter_schema_version","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestCollectionMigrate","test_collection_migrate","",""
"
        The check for changes in Crossref returns None if there is no change between the existing DOI and the
        DOI returned from Crossref.
        ","15","test_update_crossref_metadata_same_doi_returns_none_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionOperations","test_business","",""
"","14","test_rollback_published_collections","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"Test that the deduplicate_fragments flag is passed to the schema validator.","2","test_deduplicate_fragments_flag_true","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateAtac","test_process_validate_atac","",""
"","1287","test_extract_metadata","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:30 UTC 2025","TestAddLabels","test_extract_metadata","",""
"","0","test_type_inference[parameters10]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        In combination with test_api_fetch_calls, checks external API call in search requests (_search_gene_uid)
        ","1","test_api_search_calls","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"Test create_dataframe_array() with edge case parameters.","2","test__create_dataframe_array_edge_cases","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","54","test__filter_request_with_filter_dims__returns_valid_filter_dims__base_case","tests.unit.backend.wmg.api","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:14 UTC 2025","WmgApiV2Tests","test_v2","",""
"","6","test_with_errors","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestLogErrorsAndCleanup","test_log_errors_and_cleanup","",""
"","0","test__release_only_prerelease_properly_formatted_semvar__returns_false","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSemvarUtils","test_semvar_utils","",""
"","1","test_delete_artifacts_delete_cxg","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"","10","test__get_collection_with_x_approximate_distribution_none__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"A published fragment is used in the manifest, this will pass validation, the artifact will be copied to the
        new dataset version.","2","test_old_fragment","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateAtac","test_process_validate_atac","",""
"","0","test_register_neg","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestRegisteredSources","test_uri","",""
"","3","test__post_revision__Not_Public","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostRevision","test_curation_api","",""
"Test _process_chromosome_worker handles malformed rows gracefully.","14","test__process_chromosome_worker_malformed_rows","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","11","test__get_all_datasets_for_index_with_ontology_expansion","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"
        Calling PUT /datasets/:dataset_id  should fail if version IDs are used for unpublished collections or
        for referencing datasets
        ","11","test_from_link__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPutLink","test_curation_api","",""
"","0","test_invalid_characters_in_field[text\x01]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"Test that the create_atac_artifact method creates an artifact for the fragment.","0","test_fragment","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestCreateAtacArtifact","test_process_validate_atac","",""
"
        Test convert_coverage_to_cxg_array creates ATACDataProcessor and processes fragment file correctly.
        ","3","test__convert_coverage_to_cxg_array[cell_type_mapping1-organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:27 UTC 2025","passed","Tue Sep 23 22:27:27 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","41","test__delete_revision_collection_by_collection_version_id","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestDeleteCollection","test_curation_api","",""
"Test _process_chromosome_worker handles invalid coordinates gracefully.","14","test__process_chromosome_worker_invalid_coordinates","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","9","test__list_collection__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","21","test__get_unbpublished_revision__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"
        Tests /curation/v1/datasets endpoint with different credentials and visibility filters.

        Test data setup:
        - published_collection_1: 2 datasets
        - published_collection_2: 1 dataset, other owner
        - published_collection_3: 1 dataset, previously revised and published
        - unpublished_collection_1: 3 datasets
        - unpublished_collection_2: 2 datasets, other owner
        - published_collection_1_revision: 3 datasets (one new, one modified)

        ","80","test_get_private_datasets_200","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"","2","test__get_all_user_collections_for_index_requires_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","3","test_get_private_datasets_403","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"","0","test__link__INVALID[other-https://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","3","test__list_collection_options__no_allow","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","0","test__link__INVALID[other-google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"validation will succeed, status will be updated, and fragment artifacts will be uploaded

        This covers cases where the collection is unpublished, and the datset is new.
        It also covers cases where the fragment is optional and present or required and present.
        ","1","test_new_fragment[https://www.dropbox.com/s/fake_location/test.h5ad?dl=0]","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateAtac","test_process_validate_atac","",""
"","8","test__convert_matrices_to_cxg_arrays__sparse_array_only_store_nonzeros_empty_array","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestCxgGenerationUtils","test_cxg_generation_utils","",""
"
        Test convert_coverage_to_cxg_array creates ATACDataProcessor and processes fragment file correctly.
        ","2","test__convert_coverage_to_cxg_array[cell_type_mapping1-organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:27 UTC 2025","passed","Tue Sep 23 22:27:27 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test__link__INVALID[data_source-google]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","12038","test__cube_query_params_for_expression_summary_cube","tests.unit.backend.wmg","Tue Sep 23 22:26:41 UTC 2025","passed","Tue Sep 23 22:26:53 UTC 2025","CensusCubeQueryParamsTest","test_query","",""
"
    Test the cropping method to ensure the image is cropped to a square
    ","1","test__crop_to_aspect_ratio[200-150]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"","0","test_type_inference[parameters2]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"Test that deletion occurs when is_reprocess=True","8","test_copy_cxg_files_deletion_when_is_reprocess_true","tests.unit.processing","Tue Sep 23 22:27:37 UTC 2025","passed","Tue Sep 23 22:27:37 UTC 2025","ProcessingTest","test_processing","",""
"","397","test__query_all_indexed_dims_single_value__returns_correct_result","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","ExpressionDotPlotTest","test_expression_dotplot","",""
"Test sparse data pruning removes low normalized coverage records below threshold.","1","test__sparse_data_pruning","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","9","test_patch_public_collection_dataset_not_authorized_403","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestPatchDataset","test_curation_api","",""
"
        A published collection can be obtained using `get_collection`
        ","9","test_get_published_collection_version_for_published_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetCollectionVersion","test_business","",""
"","1","test_type_inference[parameters88]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        Calling PUT /datasets/:dataset_id should fail with 403 Unauthorized
        if trying to upload to a published collection
        ","12","test__from_link__Not_Public","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPutLink","test_curation_api","",""
"","3","test_has_valid_artifact_statuses__invalid_h5ad_status_0","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"
        Test restoring a previous version of a collection
        ","21","test__restore_previous_collection_version","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionUtilities","test_business","",""
"","1","test_type_inference[parameters23]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","6","test__regenerate_key__201","tests.unit.backend.layers.auth","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestKeys","test_auth_keys","",""
"","7","test__collection_level_processing_status__SUCCESS","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"
        A super curator can upload a dataset to a non-owned collection
        ","5","test__can_upload_dataset_to_non_owned_collection_as_super_curator","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionUploadLinkCurators","test_portal_api","",""
"","1","test_close_ready_for_prod_with_blocked_issues","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","TestCloseReadyForProd","test_zenhub_close","",""
"Test that threshold=0 disables pruning.","0","test__sparse_data_pruning_threshold_zero","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test_type_inference[parameters66]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test__link__OK[doi-https://www.google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","0","test__link__INVALID[other-://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","144","test_download","tests.unit.backend.layers.utils","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestS3URI","test_uri","",""
"","205593","test__ontology_tree_builder","tests.unit.backend.cellguide.pipeline","Tue Sep 23 22:27:48 UTC 2025","passed","Tue Sep 23 22:31:14 UTC 2025","OntologyTreeBuilderTests","test_ontology_tree","",""
"","12","test__get_collections_no_auth_visibility_public__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","5","test__get_dataset_asset__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","2","test_generate_dataset_citation","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestDatasetArtifactMetadataUpdates","test_business","",""
"","193","test_delete_from_s3_raises_error_for_missing_dataset_id","tests.unit.backend.layers.utils","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","TestDeleteManyFromS3","test_aws","",""
"","50","test__create_h5ad_data_file__no_copy_if_var_index_name_already_in_columns","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","3","test_private_with_no_previous_version","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestSetPreviousDatasetVersion","test_business","",""
"","81742","test__gpt_description_generator","tests.unit.backend.cellguide.pipeline","Tue Sep 23 22:26:00 UTC 2025","passed","Tue Sep 23 22:27:21 UTC 2025","TestGptDescriptionGenerator","test_gpt_descriptions","",""
"Check datasets when one of the dataset has failed during the ingestion process.","0","test_check_datasets_fail_status","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestPublishRevisions","test_publish_revisions","",""
"
    Test case to verify that a KeyError is raised when passing invalid input metadata
    ","1","test__invalid_input_metadata_copy","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"","177","test_delete_from_s3_deletes_all_files","tests.unit.backend.layers.utils","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestDeleteManyFromS3","test_aws","",""
"
    Test that the `rollup` function correctly accumulates (or rolls up) gene-expression
    values FOR EACH expressed gene and cell count values up the cell type ANCESTOR paths
    grouped by (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>).

    The input:

    1. A cell type ontology subgraph consisting of 4 cell types.

    CL:0000127
    ├── CL:0000644
    ├── CL:0002605
    └── CL:0002627

    2. A gene expression dataframe consisting of expression numeric values for each
    (gene_ontology_term_id, tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    3. The gene expression dataframe also holds total cell counts per tissue_ontology_term_id.
    This value is held in a column called `n_cells_tissue`.
    6. A cell counts dataframe that consists of cell counts for each
    (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    7. We set the `n_cells_tissue` column values to 1000 for all rows
    in the gene expression dataframe.
    8. We set all other numeric column values to `1` in the gene expression dataframe.

    The expected output:

    1. A rolled up gene expression dataframe.
    2. A rolled up cell counts dataframe.
    3. Assert that `n_cells_tissue` column value in the rolled up gene expression dataframe
    does not change for all rows because it should not be rolled up the cell type ontology
    ancestor paths.
    4. Assert that other numeric column values (i.e the columns that are not `n_cells_tissue`)
    in the rolled up gene expression dataframe hold the correct rolled up values.
    5. Assert that the cell counts in the rolled up cell counts dataframe hold the correct
    rolled up values.
    ","19","test__rollup[no_compare_dim_one_of_the_tissues_has_no_gene_expressions_at_all-input_cell_counts_df3-expected_cell_counts_df3-input_gene_expr_df3-expected_gene_expr_df3]","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","","test_rollup","",""
"","4","test__catchall_exception_handler","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestAPI","test_app","",""
"","0","test_type_inference[parameters59]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","5","test__get_private_collection__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"","0","test__link__INVALID[data_source-.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","11","test_rollback_published_collection_list","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"
        When publishing a collection version, the published_at for the canonical collection
        should not change
        ","16","test_publish_version_does_not_change_original_published_at_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","57","test__process_all_chromosomes[cell_type_mapping1-invalid_fragment_coordinates1]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","16","test__update_collection_links__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"Test _process_chromosome_worker coordinate validation logic using mocks.","2","test__process_chromosome_worker_coordinate_validation","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        A collection with consortia can be created using `create_collection`
        ","1","test_create_collection_with_consortia_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCreateCollection","test_business","",""
"Check that delete_many_from_s3 errors are logged but do not raise exceptions.","2","test_cleanup_artifacts__delete_many_from_s3_error","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestCleanupArtifacts","test_handle_error","",""
"
        Calling `get_dataset_status` should yield the processing status
        ","6","test_get_dataset_status_for_uploaded_dataset_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetDataset","test_business","",""
"","17","test__can_retrieve_created_collection","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"validation will succeed, status will be updated, and fragment artifacts will be uploaded

        This covers cases where the collection is unpublished, and the datset is new.
        It also covers cases where the fragment is optional and present or required and present.
        ","1","test_new_fragment[s3://fake_bucket_name/fake_key.h5ad]","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateAtac","test_process_validate_atac","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","62","test__process_all_chromosomes[cell_type_mapping0-invalid_fragment_coordinates0]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"The old token fails to authenticate","5","test__post_token__401_old_token","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestAuthToken","test_curation_api","",""
"","4","test__update_collection__Super_Curator","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"","54","test__create_h5ad_data_file__reads_anndata_successfully","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"
        Crossref should be called to check for updates to the publisher metadata when publishing
        a revision that has a DOI.
        ","19","test_publish_revision_crossref_checked_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"Test maximum bins calculation for different genomes.","0","test__calculate_max_bins[organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","19","test__convert_dataframe_to_cxg_array__writes_successfully","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestCxgGenerationUtils","test_cxg_generation_utils","",""
"","7","test_rollback_private_collection_list","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"A manifest is provided with a fragment, and the anndata does not require one. This will fail
        validation.","1","test_not_atac_and_fragment","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestSkipATACValidation","test_process_validate_atac","",""
"","11","test__get_tombstoned_collection__410","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"","333","test__file_info__returns_file_size","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestS3URI","test_uri","",""
"","6","test__cancel_dataset_download__user_not_collection_owner","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","1735","test__pipeline_fails_if_census_schema_version_unsupported","tests.unit.wmg_processing","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:40 UTC 2025","TestCubePipe","test_cube_pipeline","",""
"
        `get_collection_version_from_canonical` retrieves the active published version connected
        to the canonical collection, when available
        ","13","test_get_collection_version_from_canonical_published_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","10","test_revision_with_no_previous_version","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestSetPreviousDatasetVersion","test_business","",""
"","1","test_delete_artifacts_delete_h5ad","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"","1","test_type_inference[parameters90]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"Test _stream_coverage_chunks_to_tiledb() with parametrized datasets.","19","test__stream_coverage_chunks_small_dataset[coverage_aggregator_data2]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test chunked consolidation is triggered when available memory < 8GB.","54","test_consolidate_tiledb_low_memory_chunked_approach","tests.unit.processing","Tue Sep 23 22:27:33 UTC 2025","passed","Tue Sep 23 22:27:33 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"
        The dataset artifact metadata can be updated using `update_dataset_artifact_metadata`
        ","8","test_update_dataset_artifact_metadata_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","0","test__link__INVALID[data_source-google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","5","test_view_non_owned_private_collection__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestCollectionsCurators","test_portal_api","",""
"","0","test_get_wmg_snapshot_schema_dir_rel_path","tests.unit.backend.wmg.data","Tue Sep 23 22:26:41 UTC 2025","passed","Tue Sep 23 22:26:41 UTC 2025","","test_snapshot","",""
"","1","test_type_inference[parameters69]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","12","test__set_collection_version_datasets_order_get_default_sort__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"
        Replacing a dataset that belongs to a published collection should fail
        ","9","test_replace_dataset_in_published_collection_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","4","test_update_metadata__current_dataset_version_bad_processing_status","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","57","test__process_all_chromosomes[cell_type_mapping1-invalid_fragment_coordinates3]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_migrate_private_collection","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestCollectionMigrate","test_collection_migrate","",""
"","0","test_positive","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","TestFilterIssues","test_zenhub_close","",""
"Test that no deletion occurs when is_reprocess=False","4","test_copy_cxg_files_no_deletion_when_is_reprocess_false","tests.unit.processing","Tue Sep 23 22:27:37 UTC 2025","passed","Tue Sep 23 22:27:37 UTC 2025","ProcessingTest","test_processing","",""
"","10","test_update_h5ad","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestDatasetMetadataUpdaterWorker","test_dataset_metadata_update","",""
"","3","test_has_valid_artifact_statuses_1","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"","14","test__update_revision__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"","13","test_get_wmg_snapshot_fullpath[/tmp]","tests.unit.backend.wmg.data","Tue Sep 23 22:26:41 UTC 2025","passed","Tue Sep 23 22:26:41 UTC 2025","","test_snapshot","",""
"","1","test_type_inference[parameters16]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        If the validation is not successful, the processing pipeline should:
        1. Set the processing status to INVALID
        2. Set a validation message accordingly
        ","2410","test_process_validate_fail","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:37 UTC 2025","TestProcessValidateH5AD","test_process_validate_h5ad","",""
"
        Removing a dataset from a published collection should fail
        ","9","test_remove_dataset_from_published_collection_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","8","test_post_datasets_not_owner_403","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostDataset","test_curation_api","",""
"cannot reupload a dataset that is pending","7","test__reupload_while_processing_dataset__405","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPutUploadLink","test_portal_api","",""
"","5","test__is_matrix_sparse__partially_populated_sparse_matrix_returns_true","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestMatrixUtils","test_matrix_utils","",""
"","1","test__link__OK[data_source-http://somewhere.org/path/?abcd=123]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"Test _cleanup_temp_files handles missing files gracefully.","0","test__cleanup_temp_files_partial_cleanup","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        A collection can be created with a valid DOI, and the publisher metadata will be added
        to the collection
        ","1","test_create_collection_with_valid_doi_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCreateCollection","test_business","",""
"","3","test_OK","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestLogErrorsAndCleanup","test_log_errors_and_cleanup","",""
"","2058","test_value_of_existing_deleted_secret_raises_exception","tests.unit.backend.layers.utils","Tue Sep 23 22:26:17 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestAwsSecret","test_aws_secret","",""
"
        Updating a collection version that is published should fail
        ","9","test_update_published_collection_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollection","test_business","",""
"
        A collection version can be published using `publish_collection`
        ","10","test_publish_version_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"
        Calling `ingest_dataset` and specifying an existing dataset that is empty should start the ingestion
        without creating a new dataset version
        ","2","test_replace_dataset_on_empty_dataset_does_not_generate_new_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","4207","test_process_anndata","tests.unit.processing","Tue Sep 23 22:27:37 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","ProcessingTest","test_processing","",""
"","16","test__get_nonexistent_collection__4xx","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"","6","test__get_status__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"Test maximum bins calculation for different genomes.","0","test__calculate_max_bins[organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","7","test_from_uri","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestRegisteredSources","test_uri","",""
"
        A published collection version can be obtained using `get_collection_version`
        ","10","test_get_collection_version_for_published_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetCollectionVersion","test_business","",""
"cannot reupload a public published dataset","9","test__reupload_public_dataset__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPutUploadLink","test_portal_api","",""
"","0","test_type_inference[parameters58]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_type_inference[parameters25]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","85","test_get_datasets_by_schema_200","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"
        Given a canonical collection with a published version and an unpublished version with is_auto_version == True,
        creating another unpublished collection version where is_auto_verison is False will fail.
        ","14","test_create_collection_version_multiple_auto_versions_fails","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"
        `publish_collection_version` should fail if called on a collection version that is already published.
        ","9","test_publish_version_fails_on_published_collection","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"
        A collection version can be created using `create_collection_version`
        ","13","test_create_collection_version_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","1","test_dataset_migrate_revision","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestDatasetMigrate","test_dataset_migrate","",""
"","4","test__generate_s3_credentials__No_Auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestS3Credentials","test_curation_api","",""
"Test that delete_files works with valid keys","2","test_delete_files_with_keys","tests.unit.backend.layers.thirdparty","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestS3Provider","test_s3_provider","",""
"","0","test_type_inference[parameters95]","tests.unit.processing","Tue Sep 23 22:27:42 UTC 2025","passed","Tue Sep 23 22:27:42 UTC 2025","","test_type_conversion_utils","",""
"
    Test upload assets to S3 when the upload fails
    ","2","test__upload_assets_failure","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"
        When publishing a revision - and there is a change in DOI - collection and artifacts should be updated.
        ","19","test_publish_revision_changed_doi_collection_updated_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"
        Publish a revision with new datasets.
        ","13","test__publish_revision_with_new_dataset__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"","160","test__to_cxg__simple_anndata_no_corpora_and_sparse","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","15","test__get_collection_versions_not_published_canonical__404","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionVersions","test_curation_api","",""
"","6","test_delete_collection_version__already_deleted__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestCollectionDeletion","test_portal_api","",""
"","0","test_type_inference[parameters6]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","14","test_update_metadata","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"","10","test__update_collection__doi_does_not_exist__BAD_REQUEST","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"","5","test_update_metadata__new_dataset_version_bad_processing_status","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"","3","test_get_private_datasets_400","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"","14","test_get_wmg_snapshot_fullpath[None]","tests.unit.backend.wmg.data","Tue Sep 23 22:26:41 UTC 2025","passed","Tue Sep 23 22:26:41 UTC 2025","","test_snapshot","",""
"","2","test__provider_calls_crossref_if_api_key_defined","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"","1","test_sanitize_api_query_dict[input_query4-expected_sanitized_query4]","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","","test_wmg_api_helpers","",""
"","3","test_process_atac_ValidationAtacFailed","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","ProcessingTest","test_processing","",""
"","0","test_from_file","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"
        Updating a collection version with a DOI change IF there is a dataset in non-finalized status should fail
        ","20","test_update_published_collection_fail__dataset_status_pending","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollection","test_business","",""
"","0","test_type_inference[parameters48]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"Positive test case for run method.","2","test_run_pos","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestPublishRevisions","test_publish_revisions","",""
"","11","test__convert_ndarray_to_cxg_dense_array__writes_successfully","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestCxgGenerationUtils","test_cxg_generation_utils","",""
"
        When publishing a private collection - and there is no change in DOI - publisher metadata should not
        be updated if the deposited date is before the created at date of the corresponding collection.
        ","8","test_publish_private_collection_same_doi_publisher_metadata_not_updated_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","11","test_when_item_is_not_in_config_not_in_env_we_raise","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"","1","test__get_schema_type_hint_from_dtype","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","TestTypeConversionUtils","test_type_conversion_utils","",""
"
        Asserts a CrossrefFetchException if the GET request fails for any reason
        ","3","test__provider_throws_exception_if_request_fails_with_404","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"Test _get_fragment_file_path with local file path.","0","test__get_fragment_file_path_local_file","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test_type_inference[parameters105]","tests.unit.processing","Tue Sep 23 22:27:42 UTC 2025","passed","Tue Sep 23 22:27:42 UTC 2025","","test_type_conversion_utils","",""
"","1","test_type_inference[parameters5]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","4","test__post_token__404","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestAuthToken","test_curation_api","",""
"
        Artifacts belonging to a dataset can be obtained with `get_dataset_artifacts`
        ","7","test_get_dataset_artifacts_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetDataset","test_business","",""
"
    Test the cropping method to ensure the image is cropped to a square
    ","1","test__crop_to_aspect_ratio[100-55]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"
        A dataset artifact can be added using `add_dataset_artifact`
        ","3","test_add_dataset_artifact_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","1","test_type_inference[parameters24]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        The `my-collections/index` endpoint should return all public collections and the private
        collections the user has WRITE access to. Curators can see all public collectoins and private collections where
        they are the owner. Super Curators can see all public and private collections.
        ","24","test__get_all_user_collections_for_index","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","0","test_sanitize_api_query_dict[input_query1-expected_sanitized_query1]","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","","test_wmg_api_helpers","",""
"","12","test__delete_private_collection_by_collection_version_id","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestDeleteCollection","test_curation_api","",""
"Test that the create_atac_artifact method creates an artifact for the fragment index.","1","test_fragment_index","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestCreateAtacArtifact","test_process_validate_atac","",""
"
        Trying to publish a dataset belonging to a different collection raises a 404
        ","6","test__dataset_not_in_collection__404","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPutUploadLink","test_portal_api","",""
"
        Test Dataset deletes when tombstoning a public Collection with published and updated Datasets in an outstanding
        Revision
        ","17","test__delete_datasets_from_public_access_bucket","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionUtilities","test_business","",""
"","0","test_type_inference[parameters28]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","6","test__get_status__200_for_non_owned_dataset_as_super_curator","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDatasetCurators","test_portal_api","",""
"","10","test_create_empty_dataset_version_for_current_dataset","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","1","test_type_inference[parameters41]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"Integration test for process_fragment_file.","523","test__process_fragment_file_integration[cell_type_mapping2-organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:27 UTC 2025","passed","Tue Sep 23 22:27:27 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test__link__INVALID[other-.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"
        Successfully calls NCBIProvider fetch and search functions with a parameter of only gene ID
        ","3","test_gene_info_with_id","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"","6","test__update_collection_partial_data__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"Test copy_cxg_files_to_cxg_bucket with clear_existing=False","3","test_copy_cxg_files_to_cxg_bucket_clear_existing_false","tests.unit.processing","Tue Sep 23 22:27:37 UTC 2025","passed","Tue Sep 23 22:27:37 UTC 2025","ProcessingTest","test_processing","",""
"","0","test_session_refresh","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","skipped","Tue Sep 23 22:26:12 UTC 2025","TestSession","test_auth0_manager","",""
"","2584","test_dataset_metadata","tests.unit.wmg_processing","Tue Sep 23 22:26:52 UTC 2025","passed","Tue Sep 23 22:26:55 UTC 2025","DatasetMetadataTests","test_dataset_metadata","",""
"
        Start a revision of a collection.
        ","36","test__start_revision_of_a_collection__201","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestRevision","test_portal_api","",""
"
        A tombstoned Collection can be resurrected
        ","10","test_resurrect_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionOperations","test_business","",""
"","8","test__can_publish_owned_collection","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestPublishRevision","test_portal_api","",""
"","19","test__get_title_and_citation_from_doi","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"
        The dataset validation message can be updated using `update_dataset_status`
        ","4","test_update_dataset_status_validation_message_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","0","test_anndata_validation_success[{""anndata"": ""https://example.com/dataset.h5ad"", ""atac_fragments"": ""s3://bucket/fragments.tsv.gz"", ""flags"": {""deduplicate_fragments"": true}}]","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_manifest","",""
"Test that the create_atac_artifact method raises an exception when the artifact cannot be created.","0","test_exception","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestCreateAtacArtifact","test_process_validate_atac","",""
"","5","test__create_deep_zoom_assets","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"
        A Dataset that has been published cannot be deleted via the API
        ","37","test__delete_published_dataset__405","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestDeleteDataset","test_curation_api","",""
"
        GET collection should work when the collection has datasets with no metadata.
        This happens when the dataset did not complete ingestion yet.
        ","7","test_get_collection_with_dataset_no_metadata","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"","1","test_type_inference[parameters53]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","3","test__set_collection_version_datasets_order_unauthenticated__401","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","56","test_get_dataset_id_version_4xx","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasetIdVersions","test_curation_api","",""
"","1","test_feature_flag","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestFeatureFlag","test_feature_flag","",""
"","1","test_type_inference[parameters93]","tests.unit.processing","Tue Sep 23 22:27:42 UTC 2025","passed","Tue Sep 23 22:27:42 UTC 2025","","test_type_conversion_utils","",""
"","223","test__filter_request_with_filter_dims__returns_valid_filter_dims","tests.unit.backend.wmg.api","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","WmgApiV2Tests","test_v2","",""
"
        The check for changes in Crossref returns the existing DOI and the returned Crossref DOI if there is a
        change between the two.
        ","23","test_update_crossref_metadata_changed_doi_returns_doi_update_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionOperations","test_business","",""
"","8","test__post_revision__Not_Owner","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostRevision","test_curation_api","",""
"","1","test_type_inference[parameters30]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        Calling PUT /datasets/:dataset_id should fail with 403 Unauthorized
        if the authenticated user is not the owner of a collection
        ","9","test__from_link__Not_Owner","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPutManifest","test_curation_api","",""
"","0","test__link__INVALID[raw_data-google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","10","test__get_collections_no_auth__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"The 'revising_in' attribute is None for unauthorized public collections","12","test__get_collections_with_auth__OK_1","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","9","test__valid_explorer_cxgs","tests.unit.backend.cellguide.pipeline","Tue Sep 23 22:31:46 UTC 2025","passed","Tue Sep 23 22:31:46 UTC 2025","TestValidExplorerCxgs","test_valid_explorer_cxgs","",""
"","1","test_with_migration_revision","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestGatherCollections","test_gather_collections","",""
"","3","test__get_collections_no_auth_visibility_private__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","1","test_non_migration_event_triggers_slack","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
"
        Adding a dataset with a wrong link should result in a failure
        ","7","test_add_dataset_with_invalid_link_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","8","test__generate_s3_credentials__Not_Private","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestS3Credentials","test_curation_api","",""
"","3","test__clean_doi","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestDoi","test_doi","",""
"","10","test_update_metadata__missing_cxg","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"","7","test__dp_api_swagger_ui__returns_200","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestAPI","test_app","",""
"","7","test__validate_with_valid_s3_uri__ok","tests.unit.backend.layers.utils","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestS3URI","test_uri","",""
"Check that all artifacts are deleted for the given cases.","0","test_cleanup_artifacts__validate_anndata_OK","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestCleanupArtifacts","test_handle_error","",""
"","1","test_type_inference[parameters50]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        Given a canonical dataset id, return all its DatasetVersions that have been part of published CollectionVersions
        ","39","test_get_prior_published_versions_for_dataset","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetDataset","test_business","",""
"","1","test_get_failure_slack_notification_message_with_dataset_not_found","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","57","test__process_all_chromosomes[cell_type_mapping2-invalid_fragment_coordinates4]","tests.unit.processing","Tue Sep 23 22:27:24 UTC 2025","passed","Tue Sep 23 22:27:24 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test the delete_existing_cxg_files method directly","3","test_delete_existing_cxg_files_method","tests.unit.processing","Tue Sep 23 22:27:37 UTC 2025","passed","Tue Sep 23 22:27:37 UTC 2025","ProcessingTest","test_processing","",""
"","15","test__get_all_datasets_for_user_index","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"
        The dataset processing status can be updated using `update_dataset_status`
        ","3","test_update_dataset_status_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"
        When publishing a private collection - and there is no change in DOI - publisher metadata should be
        updated if the deposited date is after the created at date of the corresponding collection.
        ","8","test_publish_private_collection_same_doi_publisher_metadata_updated_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","1","test_with_published","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestGatherCollections","test_gather_collections","",""
"","1","test_get_spatial_metadata__is_single_false","tests.unit.processing","Tue Sep 23 22:27:31 UTC 2025","passed","Tue Sep 23 22:27:31 UTC 2025","TestAddLabels","test_extract_metadata","",""
"A cellxgene public dataset url used for reingesting an h5ad must be an h5ad","9","test_reingest_published_anndata_dataset__not_h5ad","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","0","test_invalid_characters_in_field[text\x1f]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","3","test_has_valid_artifact_statuses__invalid_cxg_status_0","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"","0","test__link__INVALID[protocol-google]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"
        Calling PUT /datasets/:dataset_id should succeed if a valid link is uploaded by the owner of the collection or
        a super curator
        ","49","test__new_from_link__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifest","test_curation_api","",""
"
        Given a dataset version id, return the DatasetVersion IF its been part of a published CollectionVersion
        ","49","test_get_prior_published_dataset_version","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetDataset","test_business","",""
"
        Calling Put /datasets/:dataset_id with a bad published anndata link should fail with 400
        ","7","test_with_bad_already_ingested_anndata__400","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestATAC","test_curation_api","",""
"","3","test__post_collection_rejects_invalid_doi","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","45","test_get_collection_version_4xx","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionVersionID","test_curation_api","",""
"","10","test__get_collection_with_dataset_failing_pipeline","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"
        Publishing a collection version with no datasets should fail
        ","1","test_publish_collection_with_no_datasets_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","1","test_collection_url","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","6","test__update_private_collection_dataset_not_authorized_403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","1","test_type_inference[parameters63]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","1123","test_primary_filter_dimensions","tests.unit.wmg_processing","Tue Sep 23 22:30:08 UTC 2025","passed","Tue Sep 23 22:30:09 UTC 2025","PrimaryFilterDimensionsTests","test_primary_filter_dimensions","",""
"
        Calling PUT /datasets/:dataset_id should fail with 403 Unauthorized
        if the authenticated user is not the owner of a collection
        ","9","test__from_link__Not_Owner","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestFlag","test_curation_api","",""
"","3","test__published_doi_used_if_exists_for_preprint","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"","1","test__link__INVALID[lab_website-google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","5","test_update_non_owned_private_collection_as_super_curator__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestCollectionsCurators","test_portal_api","",""
"","10","test__collection_level_processing_status__PENDING","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","5","test__get_dataset_asset__asset_NOT_FOUND","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","66","test_filter_relationships","tests.unit.wmg_processing","Tue Sep 23 22:28:42 UTC 2025","passed","Tue Sep 23 22:28:43 UTC 2025","FilterRelationshipsTests","test_filter_relationships","",""
"","8","test__update_collection__doi__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"
        If published filter flag is True, only published, non-tombstoned collections should be returned
        ","51","test_get_all_collections_published_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetAllCollections","test_business","",""
"","1","test_anndata_validation_success[{""anndata"": ""s3://bucket/dataset.h5ad""}]","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_manifest","",""
"","496","test__query_agg_cell_type_counts__returns_correct_result","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","ExpressionDotPlotTest","test_expression_dotplot","",""
"Check that file in the artifact bucket are not delete if error_step is not download-validate.","1","test_cleanup_artifacts__not_download_validate","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestCleanupArtifacts","test_handle_error","",""
"","0","test_format_issue","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","","test_zenhub_close","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","55","test__process_all_chromosomes[cell_type_mapping0-invalid_fragment_coordinates2]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_type_inference[parameters39]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"Test _download_s3_file handles download failure and cleans up temp files.","4","test__download_s3_file_download_failure","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test_type_inference[parameters9]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","52","test__create_h5ad_data_file__obs_and_var_index_names_specified_doesnt_exist_raises_exception","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","4","test__update_collection_by_version_id__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"","1","test_type_inference[parameters46]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        When publishing a new collection without a DOI, no Crossref check should be made.
        ","8","test_publish_new_collection_no_doi_crossref_not_checked_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"
        `get_dataset_asset` should return a -1 if file_size isn't returned from the server
        ","6","test__get_dataset_asset__file_SERVER_ERROR","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","12933","test__cell_metadata_generator","tests.unit.backend.cellguide.pipeline","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:36 UTC 2025","TestMetadataGenerator","test_metadata_generator","",""
"","0","test__link__INVALID[raw_data-google]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","16","test__update_revision_dataset__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","5","test__update_collection_strip_string_fields__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"Test _file_exists returns True for existing S3 file.","2","test__file_exists_s3_file_exists","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test__link__INVALID[doi-.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","42","test_when_item_is_in_config_but_not_in_env_and_use_env_is_not_set_we_use_config","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"","1","test__validate_with_valid_url__ok","tests.unit.backend.layers.utils","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCXGPubURL","test_uri","",""
"","0","test__marker_gene_calculation","tests.unit.backend.cellguide.pipeline","Tue Sep 23 22:26:00 UTC 2025","skipped","Tue Sep 23 22:26:00 UTC 2025","MarkerGeneCalculatorTests","test_computational_marker_genes","",""
"","3","test__cancel_dataset_download__dataset_does_not_exist","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","1","test_illegal_characters","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestCustomJSONEncoder","test_json","",""
"","0","test__link__INVALID[other-google]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","2","test_dataset_migrate_private","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestDatasetMigrate","test_dataset_migrate","",""
"","3","test__get_key__401","tests.unit.backend.layers.auth","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestKeys","test_auth_keys","",""
"","150","test__to_cxg__simple_anndata_with_corpora_and_dense_using_feature_name_var_index","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","16","test_get_dataset_version","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetDataset","test_business","",""
"
        Calling Put /datasets/:dataset_id with a bad published anndata link should fail with 400
        ","7","test_with_bad_already_ingested_anndata__400","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPutLink","test_curation_api","",""
"","3","test_with_revision","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestGatherCollections","test_gather_collections","",""
"
        A collection updated with the same DOI should not trigger a Crossref call
        ","1","test_update_collection_same_doi","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollection","test_business","",""
"","284","test__single_dimension__returns_all_dimension_and_terms","tests.unit.backend.wmg","Tue Sep 23 22:27:30 UTC 2025","passed","Tue Sep 23 22:27:30 UTC 2025","QueryPrimaryFilterDimensionsTest","test_query","",""
"","0","test_invalid_characters_in_field[\x00some data]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","5","test_post_datasets_nonexistent_collection_403","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostDataset","test_curation_api","",""
"","472","test__schema4__query_request_with_compare_by_ethnicity__excludes_comma_delimited_ethnicity_values","tests.unit.backend.wmg.api","Tue Sep 23 22:26:40 UTC 2025","passed","Tue Sep 23 22:26:41 UTC 2025","WmgApiV2Tests","test_v2","",""
"Test that the deduplicate_fragments flag is passed to the schema validator.","1","test_deduplicate_fragments_flag_false","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateAtac","test_process_validate_atac","",""
"
    Test that _fetch_image returns the hires image when fullres is not present.
    ","1","test__fetch_image_hires","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"","140","test_get_collection_dynamic_fields","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"","79","test__delete_tombstone_collection","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestDeleteCollection","test_curation_api","",""
"
        Publishing a version with a dataset replaced should succeed
        ","23","test_publish_version_with_replaced_dataset_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionOperations","test_business","",""
"
        When publishing a collection that contains a new dataset, `published_at` for the new dataset should be updated
        ","22","test_dataset_published_at_with_new_dataset_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","3","test_has_valid_artifact_statuses__invalid_rds_status_1","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"","99","test_get_file_info","tests.unit.backend.layers.utils","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestS3URL","test_uri","",""
"","2","test_dataset_migrate_published","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestDatasetMigrate","test_dataset_migrate","",""
"
        Private datasets the user is authorized to view can be retrieved with
        `get_all_private_collection_versions_with_datasets`.
        ","115","test_get_all_private_datasets_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetAllDatasets","test_business","",""
"
        Call process download using a dropbox uri
        ","3","test_download_from_dropbox_uri","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessDownload","test_process_validate_h5ad","",""
"
        GET /collections/:collection_id returns 403 if an invalid is specified
        ","3","test__get_collection_id__403_not_found","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","0","test__link__INVALID[raw_data-https://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","5","test__oversized__413","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPostUploadLink","test_portal_api","",""
"
        `get_collections` with is_published=True should not return versions that were previously
        published but have a new version
        ","16","test_get_all_collections_published_does_not_retrieve_old_versions","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","4","test_has_valid_artifact_statuses__invalid_cxg_status_1","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"","50","test__create_h5ad_data_file__var_index_name_specified_not_unique_raises_exception","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","19","test_get_dataset_is_primary_data_shape","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"
        Publish a collection as a non-owner returns 403
        ","6","test__publish_revision_as_not_owner__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"
        Calling PUT /datasets/:dataset_id should succeed if a valid link is uploaded by the owner of the collection or
        a super curator
        ","47","test__new_from_link__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestFlag","test_curation_api","",""
"Test direct assignment handles edge cases correctly.","17","test__stream_coverage_direct_assignment_edge_cases","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","57","test__process_all_chromosomes[cell_type_mapping2-invalid_fragment_coordinates0]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        Calling PUT /datasets/:dataset_id should fail with 401 Unauthorized if the user is not authenticated
        ","6","test__from_link__no_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestFlag","test_curation_api","",""
"","3","test__list_collection_options__allow","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","1","test__link__INVALID[doi-google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"
        Test convert_coverage_to_cxg_array creates ATACDataProcessor and processes fragment file correctly.
        ","2","test__convert_coverage_to_cxg_array[cell_type_mapping0-organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:27 UTC 2025","passed","Tue Sep 23 22:27:27 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        When there is a revision of a published collection, GET /collections/:collection_id retrieves:
        1. the published version given the canonical collection_id
        2. the revision if given the version_id
        ","17","test__get_collection_id_retrieves_published_version_by_collection_id_if_revision","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","2072","test_delete_of_existing_secret_deletes_secret","tests.unit.backend.layers.utils","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:15 UTC 2025","TestAwsSecret","test_aws_secret","",""
"","10","test__get_collection_with_dataset_failing_validation","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"","1","test__link__OK[other-http://somewhere.org/path/?abcd=123]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"
        If the validation is not successful, the processing pipeline should:
        1. Set the processing status to INVALID
        2. Set a validation message accordingly
        ","4","test_process_add_labels_fail","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","ProcessingTest","test_process_add_labels","",""
"
        A dataset can be replaced from a collection version by calling `ingest_dataset`
        and specifying an existing dataset_version_id
        ","10","test_replace_dataset_in_unpublished_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","0","test_type_inference[parameters49]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"The anndata file is not ATAC, and no fragment file in the manifest, so validation should be skipped.","1","test_not_atac_and_no_fragment","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestSkipATACValidation","test_process_validate_atac","",""
"","0","test_anndata_validation_success[{""anndata"": ""https://example.com/dataset.h5ad"", ""atac_fragments"": ""s3://bucket/fragments.tsv.gz""}]","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_manifest","",""
"","2","test_adata_with_noncanonical_X_and_raw_X","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestEnforceCanonical","test_matrix_utils","",""
"","0","test__link__INVALID[protocol-https://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"
        Start a revision of a collection with links.
        ","23","test__start_revision_of_a_collection_w_links__201","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestRevision","test_portal_api","",""
"","0","test_filter_issues_with_blocking_issues","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","TestFilterIssues","test_zenhub_close","",""
"Test _process_chromosome_worker when no fragments match valid barcodes.","14","test__process_chromosome_worker_no_valid_cells","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","3","test__get_key__200","tests.unit.backend.layers.auth","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestKeys","test_auth_keys","",""
"Check that atac fragment files are deleted.","1","test_delete_atac_fragment_files__OK","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestDeleteAtacFragmentFiles","test_handle_error","",""
"
        Unpublished Collection versions can be retrieved from a canonical Collection
        ","23","test_get_unpublished_collection_versions_from_canonical","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetCollectionVersion","test_business","",""
"Test _process_chromosome_worker handles fragments spanning multiple bins.","14","test__process_chromosome_worker_spanning_bins","tests.unit.processing","Tue Sep 23 22:27:27 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        When publishing a revision - and there is no change in DOI - publisher metadata should be updated
        if the deposited date is after the revised at or published at date of the corresponding collection.
        ","15","test_publish_revision_same_doi_publisher_metadata_updated_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","1","test_type_inference[parameters85]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        POST /datasets returns the canonical dataset id on creation.
        ","4","test_post_datasets_returns_canonical_id","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostDataset","test_curation_api","",""
"","1","test_delete_artifacts_delete_no_artifacts","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"","0","test__link__INVALID[protocol-://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"Test _stream_coverage_chunks_to_tiledb() with empty aggregator.","6","test__stream_coverage_chunks_empty_aggregator","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        Start a revision on a collection as a non-owner.
        ","14","test__revision_not_owner__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestRevision","test_portal_api","",""
"
        Calling PUT /datasets/:dataset_id  should fail if version IDs are used for unpublished collections or
        for referencing datasets
        ","11","test_from_link__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestATAC","test_curation_api","",""
"","362","test__query_request_multi_primary_dims_only_with_compare__returns_200_and_correct_response","tests.unit.backend.wmg.api","Tue Sep 23 22:26:39 UTC 2025","passed","Tue Sep 23 22:26:39 UTC 2025","WmgApiV2Tests","test_v2","",""
"","43","test_when_item_is_not_in_config_but_is_in_env_and_use_env_is_not_set_we_raise","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"","13","test__clean_up","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"","0","test_type_inference[parameters51]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","3","test_report","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","","test_report","",""
"Test _process_chromosome_worker processes valid fragments correctly.","16","test__process_chromosome_worker_valid_fragments","tests.unit.processing","Tue Sep 23 22:27:27 UTC 2025","passed","Tue Sep 23 22:27:27 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test ValueError when organism_ontology_term_id column is missing.","0","test__extract_cell_metadata_missing_organism_column[cell_type_mapping1]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test cell metadata extraction with valid obs DataFrame.","2","test__extract_cell_metadata_valid_obs[cell_type_mapping2-organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","365","test__query_non_indexed_dim_single_valued__returns_correct_result","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","ExpressionDotPlotTest","test_expression_dotplot","",""
"","283","test__validate_with_valid_s3_url__ok","tests.unit.backend.layers.utils","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestS3URL","test_uri","",""
"","11","test__update_private_collection_dataset__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"Integration test for process_fragment_file.","620","test__process_fragment_file_integration[cell_type_mapping1-organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:25 UTC 2025","passed","Tue Sep 23 22:27:26 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","4","test__post_collection_normalizes_doi","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","4","test__remove_all_collection_consortia","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","7","test__set_collection_version_datasets_order_invalid_collection__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","0","test_type_inference[parameters40]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_OK","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","12","test_singletonness","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"Test _process_all_chromosomes() handles missing cells correctly.","49","test__process_all_chromosomes_missing_cells[cell_type_mapping0]","tests.unit.processing","Tue Sep 23 22:27:24 UTC 2025","passed","Tue Sep 23 22:27:24 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
    Test upload assets to S3
    ","1","test__upload_assets","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"
        The `collections/index` endpoint should only return public collections
        ","19","test__get_all_collections_for_index","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","10","test__update_private_collection_dataset_collection_published__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","3","test__create_key__401","tests.unit.backend.layers.auth","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestKeys","test_auth_keys","",""
"Updating a dataset to add the optional fragment.","3","test_existing_dataset_with_fragment_added","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateAtac","test_process_validate_atac","",""
"","216","test__multiple_dimensions__returns_all_dimensions_and_terms_as_tuples","tests.unit.backend.wmg","Tue Sep 23 22:27:30 UTC 2025","passed","Tue Sep 23 22:27:30 UTC 2025","QueryPrimaryFilterDimensionsTest","test_query","",""
"","3","test__set_collection_version_datasets_order_unauthorized__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"
        Checks for failure on submit of a data submission policy version that is not a valid version.
        ","6","test__publish_revision_invalid_data_submission_policy_version__400","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"
        Publish a collection as a non authenticated user returns 403
        ","5","test__publish_revision_as_non_autorized__401","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"","6","test__reupload_dataset_not_owner__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPutUploadLink","test_portal_api","",""
"
        GeneChecker successfully creates a dictionary of gene names to gene IDs,
        checks validity of gene names, and returns ensembl ID for a gene name.
        ","1","test_gene_checker","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"
        A dataset can be added to a collection when `ingest_dataset` is called.
        The resulting dataset should be empty and in a state ready for processing.
        ","2","test_add_dataset_to_unpublished_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","11860","test__markers_returns_200_and_empty_dictionary_for_bad_celltypes","tests.unit.backend.wmg.api","Tue Sep 23 22:26:26 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","WmgApiV2Tests","test_v2","",""
"
        Mocks API key for NCBI requests, checks call counts and the correct external API calls.
        Will break if the external API call is down!
        ","2","test_api_fetch_calls","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"
        Calling PUT /datasets/:dataset_id should fail with 401 Unauthorized if the user is not authenticated
        ","6","test__from_link__no_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifest","test_curation_api","",""
"
        Asserts a CrossrefFetchException if the GET request return a 500 error (any non 2xx will work)
        ","1","test__provider_throws_exception_if_request_fails_with_non_2xx_code","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"
        A collection can be created using `create_collection`
        ","1","test_create_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCreateCollection","test_business","",""
"","0","test__link__OK[lab_website-https://www.google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","3","test_has_valid_artifact_statuses__invalid_h5ad_status_1","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"","7","test_get_dataset_no_assets","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"","15","test__get_public_collection__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"","28","test_get_tombstoned_dataset_in_a_collection_410","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"","0","test_type_inference[parameters96]","tests.unit.processing","Tue Sep 23 22:27:42 UTC 2025","passed","Tue Sep 23 22:27:42 UTC 2025","","test_type_conversion_utils","",""
"If this fails then the server does not work","5","test__api_index__returns_200","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestAPI","test_app","",""
"","10","test__post_revision__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostRevision","test_curation_api","",""
"A cellxgene public dataset url cannot be used to create a new canonical dataset.","10","test_ingest_published_atac_dataset_in_new_dataset__not_allowed","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","4","test__post_collection_adds_publisher_metadata","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","10","test_trigger_dataset_artifact_update","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestDatasetArtifactMetadataUpdates","test_business","",""
"revision_of contains None if the collection is public","10","test__get_collections_with_auth__OK_5","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","1","test__provider_unescapes_journal_correctly","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"A cellxgene public dataset url must already be uploaded","9","test_reingest_published_anndata_dataset__not_in_found","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","310","test__query_all_indexed_dims_multi_valued__returns_correct_result","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","ExpressionDotPlotTest","test_expression_dotplot","",""
"","0","test_type_inference[parameters3]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_type_inference[parameters0]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_parse_event_with_error_cause","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
"","8","test__post_revision__no_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostRevision","test_curation_api","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","58","test__process_all_chromosomes[cell_type_mapping1-invalid_fragment_coordinates0]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","37","test_cell_type_ancestors","tests.unit.wmg_processing","Tue Sep 23 22:26:25 UTC 2025","passed","Tue Sep 23 22:26:25 UTC 2025","CellTypeAncestorTests","test_cell_type_ancestors","",""
"
    Test the image processing method
    ","6","test__process_and_flip_image","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"A cellxgene public dataset url can be used to ingest a new dataset version.","12","test_reingest_published_anndata_dataset","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","5","test__update_collection_partial__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"Checks that, if a gene fails on the first ID search, ncbi_provider will search again (with gene name)","3","test_api_double_calls","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"","10","test_rollback_private_dataset_list","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"Test _stream_coverage_chunks_to_tiledb() with parametrized datasets.","20","test__stream_coverage_chunks_small_dataset[coverage_aggregator_data0]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_type_inference[parameters91]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","1","test_type_inference[parameters76]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","59","test__process_all_chromosomes[cell_type_mapping2-invalid_fragment_coordinates2]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:24 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
    Test that _fetch_image raises KeyError when neither fullres nor hires images are present.
    ","0","test__fetch_image_key_error","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"
        Calling PUT /datasets/:dataset_id on an existing dataset_id should succeed if a valid link is uploaded by the
        owner of the collection or a super curator
        ","48","test__existing_from_link__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestATAC","test_curation_api","",""
"","11","test_get_nonexistent_dataset_4xx","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"","2","test_with_private","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestGatherCollections","test_gather_collections","",""
"Test _get_fragment_file_path raises ValueError when fragment_artifact_id is None.","0","test__get_fragment_file_path_none_artifact_id","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","6","test__create_collection_strip_string_fields","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","4","test_post_datasets_super","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostDataset","test_curation_api","",""
"","3","test__create_collection__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestPostCollection","test_curation_api","",""
"Test consolidation behavior when TileDB array has no fragments.","54","test_consolidate_tiledb_zero_fragments_handling","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","3","test_rollback_private_dataset[False]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"","3","test__get_public_collection_verify_consortia_sorted__OK_2","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"
        A dataset can be removed from a collection version using `delete_dataset`. This should delete the dataset.
        ","6","test_remove_dataset_from_unpublished_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"
        Calling PUT /datasets/:dataset_id should fail with 403 Unauthorized
        if trying to upload to a published collection
        ","12","test__from_link__Not_Public","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestFlag","test_curation_api","",""
"","1","test_get_failure_slack_notification_message_with_dataset_and_collection","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
"","0","test_invalid_email[email@.]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","9","test__get_manifest_tombstoned__410","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestGetDatasetManifest","test_curation_api","",""
"
        Updated Dataset assets and rows in private Collection should not be deleted until after Collection is deleted
        ","9","test_cleanup_occurs_after_deletion_for_private_collection","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestDeleteDataset","test_business","",""
"
        Successfully calls GeneChecker if called with only a name parameter
        ","4","test_gene_checker_call","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"","12237","test__markers_returns_200_and_correct_response","tests.unit.backend.wmg.api","Tue Sep 23 22:26:14 UTC 2025","passed","Tue Sep 23 22:26:26 UTC 2025","WmgApiV2Tests","test_v2","",""
"","1","test_type_inference[parameters20]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","5","test_get_datasets_nonexistent_collection_4xx","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"","6","test__create_collection__InvalidParameters","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestPostCollection","test_curation_api","",""
"","1","test_rollback[rollback_args2]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","57","test__process_all_chromosomes[cell_type_mapping1-invalid_fragment_coordinates2]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","3","test_has_valid_artifact_statuses__invalid_atac_status_1","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"","42","test__get_collection__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"
        Test convert_coverage_to_cxg_array creates ATACDataProcessor and processes fragment file correctly.
        ","2","test__convert_coverage_to_cxg_array[cell_type_mapping0-organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:27 UTC 2025","passed","Tue Sep 23 22:27:27 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","46","test_custom_secret_name","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"","30","test_delete_collection_revision__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestCollectionDeletion","test_portal_api","",""
"","5","test_patch_private_collection_dataset_no_auth_401","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestPatchDataset","test_curation_api","",""
"","1","test_type_inference[parameters89]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","22","test__update_collection__links__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"Test cell metadata extraction with valid obs DataFrame.","2","test__extract_cell_metadata_valid_obs[cell_type_mapping1-organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"positive test case for check_datasets method.","0","test_check_datasets_no_errors","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestPublishRevisions","test_publish_revisions","",""
"
        `get_collection_versions_from_canonical` can be used to retrieve all the versions
        for a canonical collection, whether those are published, active or neither
        ","27","test_get_collection_versions_for_canonical_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","6","test__get_manifest_by_dataset_version_id_fails","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestGetDatasetManifest","test_curation_api","",""
"","1","test__is_matrix_sparse__zero_and_one_hundred_percent_threshold","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestMatrixUtils","test_matrix_utils","",""
"","0","test__link__INVALID[lab_website-google]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","7","test__get_status__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","8","test__update_private_collection_dataset_invalid_processing_status__405","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","32","test__delete_public_collection","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestDeleteCollection","test_curation_api","",""
"
        The order of the datasets in a collection version is set using `set_collection_version_datasets_order`.
        ","11","test_set_collection_version_datasets_order_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestSetCollectionVersionDatasetsOrder","test_business","",""
"
        Test fetching index of most recently published collection versions with datasets matching a given
        CxG schema version
        ","38","test_get_latest_published_collection_versions_by_schema","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestGetEntitiesBySchema","test_business","",""
"","8","test_delete_private_collection_version__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestCollectionDeletion","test_portal_api","",""
"
        Attempting to set the order of the datasets in a collection version with a list that contains an invalid
        dataset should fail.
        ","6","test_set_collection_version_datasets_order_invalid_dataset_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestSetCollectionVersionDatasetsOrder","test_business","",""
"
        Test convert_coverage_to_cxg_array creates ATACDataProcessor and processes fragment file correctly.
        ","2","test__convert_coverage_to_cxg_array[cell_type_mapping2-organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:27 UTC 2025","passed","Tue Sep 23 22:27:27 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test_type_inference[parameters92]","tests.unit.processing","Tue Sep 23 22:27:42 UTC 2025","passed","Tue Sep 23 22:27:42 UTC 2025","","test_type_conversion_utils","",""
"Test _file_exists returns False when S3 file doesn't exist.","1","test__file_exists_s3_file_not_exists","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test_blank_fields","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","25","test__get_collection_id_returns_revision_of_published_collection","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"
        Calling PUT /datasets/:dataset_id on an existing dataset_id should succeed if a valid link is uploaded by the
        owner of the collection or a super curator
        ","48","test__existing_from_link__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPutManifest","test_curation_api","",""
"","0","test_type_inference[parameters35]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_type_inference[parameters33]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_rollback[rollback_args0]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"","17","test__list_collection__check_owner__no_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"
        Call process download using unknown
        ","2","test_download_unknown_uri","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessDownload","test_process_validate_h5ad","",""
"
        When publishing a collection that contains a replaced dataset,
        `published_at` for the replaced dataset should not be updated
        ","19","test_dataset_published_at_with_replaced_dataset_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"
        Calling PUT /datasets/:dataset_id should succeed if a valid link is uploaded by the owner of the collection or
        a super curator
        ","48","test__new_from_link__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPutLink","test_curation_api","",""
"Test create_dataframe_array() creates TileDB schema correctly.","3","test__create_dataframe_array[tiledb_array_config1]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test_invalid_email[@place.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","4","test_delete_dataset_versions","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","56","test__process_all_chromosomes[cell_type_mapping0-invalid_fragment_coordinates3]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test__link__INVALID[protocol-google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","0","test__prerelease_release_version__returns_true","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSemvarUtils","test_semvar_utils","",""
"","66","test_get_dataset_version_4xx","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasetVersion","test_curation_api","",""
"","1","test_log_suppressed__missed","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_logger","",""
"","13118","test__canonical_marker_genes","tests.unit.backend.cellguide.pipeline","Tue Sep 23 22:25:47 UTC 2025","passed","Tue Sep 23 22:26:00 UTC 2025","CanonicalMarkerGeneCompilerTests","test_canonical_marker_genes","",""
"Test create_dataframe_array() creates TileDB schema correctly.","2","test__create_dataframe_array[tiledb_array_config0]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        Checks for failure on missing data submission policy version.
        ","5","test__publish_revision_missing_data_submission_policy_version__400","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"","1","test_delete_artifacts_with_rdev_prefix","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"","5","test_with_published_collection","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestSetPreviousDatasetVersion","test_business","",""
"","11","test__post_revision__Super_Curator","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostRevision","test_curation_api","",""
"","2","test__object_deletion","tests.unit.backend.layers.thirdparty","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestS3Provider","test_s3_provider","",""
"","0","test_remove_duplicate_dataset_assets_no_duplicates","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_common","",""
"Test ValueError when obs_column is missing from DataFrame.","1","test__extract_cell_metadata_missing_obs_column[organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","3","test__create_deep_zoom_assets_exception","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"
        New Dataset assets and rows not deleted until after revision is canceled (for previously-published Collection)
        ","38","test_cleanup_occurs_after_revision_is_canceled","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"","1","test_type_inference[parameters55]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test__format_citation","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCitation","test_citation","",""
"","155","test__to_cxg__simple_anndata_no_corpora_and_dense","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","7","test__update_collection_strip_string_fields","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"","41","test_when_item_is_not_in_config_but_is_in_env_and_use_env_is_set_we_use_env","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"","178","test_get_all_datasets_200","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetDatasets","test_curation_api","",""
"","6","test__validate_with_invalid_s3_url__returns_none","tests.unit.backend.layers.utils","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestS3URL","test_uri","",""
"","453","test__schema4__filter_request_with_nonempty_criteria__excludes_comma_delimited_ethnicity_values","tests.unit.backend.wmg.api","Tue Sep 23 22:26:40 UTC 2025","passed","Tue Sep 23 22:26:40 UTC 2025","WmgApiV2Tests","test_v2","",""
"","4","test__update_private_collection_dataset_no_authentication__401","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","0","test_get_wmg_snapshot_rel_path","tests.unit.backend.wmg.data","Tue Sep 23 22:26:41 UTC 2025","passed","Tue Sep 23 22:26:41 UTC 2025","","test_snapshot","",""
"","155","test__to_cxg__simple_anndata_with_corpora_and_dense","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"
        A collection version can only be created on an existing collection
        ","1","test_create_collection_version_fails_if_collection_not_exists","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","89462","test__differentialExpression_returns_expected_results","tests.unit.backend.de.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","DeAPIV1Tests","test_v1","",""
"","1","test_type_inference[parameters61]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","13","test__verify_expected_private_collection_fields","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","0","test_datetime","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestCuratorJSONEncoder","test_json","",""
"
        The dataset metadata can be set using `set_dataset_metadata`
        ","3","test_set_dataset_metadata_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","7","test__post_collection_returns_id_on_success","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"
        Calling PUT /datasets/:dataset_id should fail with 401 Unauthorized if the user is not authenticated
        ","6","test__from_link__no_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestATAC","test_curation_api","",""
"","36","test__create_h5ad_data_file__non_h5ad_raises_exception","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"
        Replacing a dataset in a collection version does not alter the custom order of the datasets.
        ","16","test_set_collection_version_datasets_order_replace_dataset_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestSetCollectionVersionDatasetsOrder","test_business","",""
"","1","test_type_inference[parameters62]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","3","test__create_collection__no_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestPostCollection","test_curation_api","",""
"
        `get_collection_version_from_canonical` retrieves the unpublished version connected
        to the canonical collection, if no published version is available
        ","5","test_get_collection_version_from_canonical_unpublished_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"Test _download_s3_file returns same path for local files.","0","test__download_s3_file_local_path","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1194","test_extract_metadata_organism_uns","tests.unit.processing","Tue Sep 23 22:27:30 UTC 2025","passed","Tue Sep 23 22:27:31 UTC 2025","TestAddLabels","test_extract_metadata","",""
"","9","test_rollback_private_collections","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"","52","test_get_dataset_shape","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"","3","test__get_manifest_by_missing_collection_id_fails","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestGetDatasetManifest","test_curation_api","",""
"","41","test_from_aws","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","57","test__process_all_chromosomes[cell_type_mapping0-invalid_fragment_coordinates1]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        Test restoring a previous version of a collection fails when there are no previous versions
        ","11","test__restore_previous_collection_version__no_previous_versions","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionUtilities","test_business","",""
"","0","test__link__OK[protocol-http://somewhere.org/path/?abcd=123]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"
        Tests the explorer <-> portal integration.
        The steps carried out by this test are:
        1. Generate the explorer_url
        2. Call the `get_dataset_identifiers` endpoint, retrieve `collection_id` and `dataset_id` from there
        3. Call the GET /collections/:collection_id endpoint, locate the dataset
        ","78","test__explorer_portal_integration","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","0","test_with_blocking_issues_in_issue_list","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","TestFilterIssues","test_zenhub_close","",""
"","1","test_rollback[rollback_args3]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"","9","test_create_empty_dataset_version_for_current_dataset__error_if_published","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","0","test_anndata_validation_success[{""anndata"": ""s3://bucket/dataset.h5ad"", ""atac_fragments"": ""s3://bucket/fragments.tsv.gz"", ""flags"": null}]","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_manifest","",""
"","4","test__post_collection_rejects_doi_not_in_crossref","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"Test that batch slicing works correctly with the fix","2","test_delete_files_batch_slicing_fix","tests.unit.backend.layers.thirdparty","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestS3Provider","test_s3_provider","",""
"A cellxgene public dataset url used for reingesting an h5ad must be an h5ad","10","test_reingest_published_atac_dataset__not_atac","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"
        If published filter flag is False, only unpublished collections should be returned
        ","42","test_get_all_collections_unpublished_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetAllCollections","test_business","",""
"","2369","test_expression_summary_default","tests.unit.wmg_processing","Tue Sep 23 22:28:28 UTC 2025","passed","Tue Sep 23 22:28:31 UTC 2025","ExpressionSummaryDefaultTests","test_expression_summary_default","",""
"","8","test_private_restoring_previously_replaced_dataset","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestSetPreviousDatasetVersion","test_business","",""
"","3","test_rollback_private_dataset[True]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"
        A collection version can be deleted using `delete_collection_version`
        ","16","test_delete_collection_version_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"Test ValueError when organism_ontology_term_id is null/NaN.","1","test__extract_cell_metadata_null_organism_id","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","18","test__verify_expected_revision_collection_fields","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"
        An unpublished collection version can be obtained using `get_collection_version`
        ","6","test_get_collection_version_for_unpublished_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetCollectionVersion","test_business","",""
"New messages are appended to the existing ones","3","test_update_dataset_status_validate_message_with_appending","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","11","test__convert_uns_to_cxg_group","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"","10","test_update_metadata__missing_labeled_h5ad","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"","15","test__delete_private_collection","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestDeleteCollection","test_curation_api","",""
"Test _process_chromosome_worker handles empty fragment file.","14","test__process_chromosome_worker_empty_file","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test__link__OK[protocol-https://www.google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"Test write_binned_coverage_per_chrom() early return with empty coverage.","39","test__write_binned_coverage_per_chrom_empty_coverage","tests.unit.processing","Tue Sep 23 22:27:24 UTC 2025","passed","Tue Sep 23 22:27:24 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        Given a canonical collection with a published version and an unpublished version where is_auto_version is False,
        creating another unpublished collection version where is_auto_version is True will succeed.
        ","17","test_create_collection_version_is_auto_version_succeeds__with_revision","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"Test chromosome mapping creation for different genomes.","0","test__build_chrom_mapping[organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test__query_missing_organism__request_returns_400","tests.unit.backend.wmg.api","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","WmgApiV2Tests","test_v2","",""
"","2","test_generate_dataset_citation__no_doi","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestDatasetArtifactMetadataUpdates","test_business","",""
"Published collections are tombstoned.","15","test_delete_published_collection__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestCollectionDeletion","test_portal_api","",""
"","5","test__update_collection__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","153","test__delete_uploaded_dataset__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","7754","test_expression_summary_diffexp","tests.unit.wmg_processing","Tue Sep 23 22:28:08 UTC 2025","passed","Tue Sep 23 22:28:16 UTC 2025","ExpressionSummaryDiffexpTests","test_expression_summary_and_cell_counts_diffexp","",""
"","1","test_filter_issues_with_openprs","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","TestFilterIssues","test_zenhub_close","",""
"","4","test_post_datasets_with_collection_201","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostDataset","test_curation_api","",""
"
        When publishing a new collection with a DOI, a Crossref check should be made.
        ","8","test_publish_private_collection_crossref_checked_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","10","test__collection_level_processing_status__INITIALIZED_as_PENDING","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","4","test_delete_collection__does_not_exist","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollectionDeletion","test_portal_api","",""
"","16","test_patch_revision_dataset_owner_202","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestPatchDataset","test_curation_api","",""
"","0","test_type_inference[parameters97]","tests.unit.processing","Tue Sep 23 22:27:42 UTC 2025","passed","Tue Sep 23 22:27:42 UTC 2025","","test_type_conversion_utils","",""
"
    Test the method to generate deep zoom assets
    ","3","test__generate_deep_zoom_assets","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"","1","test_type_inference[parameters38]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","1","test_type_inference[parameters54]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","1","test_type_inference[parameters44]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        Calling `ingest_dataset` and specifying a non existant dataset_version_id should fail
        ","7","test_replace_dataset_on_non_existing_dataset_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","3","test__get_all_user_datasets_for_index_requires_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"
        cxg_admin role can delete published Datasets during revisions using query_param flag 'delete_published=true'
        ","36","test__delete_published_dataset_cxg_admin","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestDeleteDataset","test_curation_api","",""
"
        Calling Put /datasets/:dataset_id with a bad published anndata link should fail with 400
        ","7","test_with_bad_already_ingested_anndata__400","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifest","test_curation_api","",""
"","122","test__query_total_cell_count_per_cell_type","tests.unit.backend.wmg.api","Tue Sep 23 22:26:39 UTC 2025","passed","Tue Sep 23 22:26:39 UTC 2025","WmgApiV2Tests","test_v2","",""
"","4","test__post_collection_sorts_consortia","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","7","test_delete_dataset_in_private_collection__ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"Test normalized coverage calculation: (count / total_coverage) * normalization_factor.","26","test__normalized_coverage_calculation","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test _process_all_chromosomes() handles missing cells correctly.","38","test__process_all_chromosomes_missing_cells[cell_type_mapping1]","tests.unit.processing","Tue Sep 23 22:27:24 UTC 2025","passed","Tue Sep 23 22:27:24 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_no_datasets","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestCollectionMigrate","test_collection_migrate","",""
"","145","test_delete_from_s3_handles_no_files","tests.unit.backend.layers.utils","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestDeleteManyFromS3","test_aws","",""
"","1","test_delete_skipped[DatasetConversionStatus.NA]","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestDeleteAtacFragmentFiles","test_handle_error","",""
"
    Test that the `rollup` function correctly accumulates (or rolls up) gene-expression
    values FOR EACH expressed gene and cell count values up the cell type ANCESTOR paths
    grouped by (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>).

    The input:

    1. A cell type ontology subgraph consisting of 4 cell types.

    CL:0000127
    ├── CL:0000644
    ├── CL:0002605
    └── CL:0002627

    2. A gene expression dataframe consisting of expression numeric values for each
    (gene_ontology_term_id, tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    3. The gene expression dataframe also holds total cell counts per tissue_ontology_term_id.
    This value is held in a column called `n_cells_tissue`.
    6. A cell counts dataframe that consists of cell counts for each
    (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    7. We set the `n_cells_tissue` column values to 1000 for all rows
    in the gene expression dataframe.
    8. We set all other numeric column values to `1` in the gene expression dataframe.

    The expected output:

    1. A rolled up gene expression dataframe.
    2. A rolled up cell counts dataframe.
    3. Assert that `n_cells_tissue` column value in the rolled up gene expression dataframe
    does not change for all rows because it should not be rolled up the cell type ontology
    ancestor paths.
    4. Assert that other numeric column values (i.e the columns that are not `n_cells_tissue`)
    in the rolled up gene expression dataframe hold the correct rolled up values.
    5. Assert that the cell counts in the rolled up cell counts dataframe hold the correct
    rolled up values.
    ","38","test__rollup[no_compare_dim_all_tissues_have_all_cell_types-input_cell_counts_df0-expected_cell_counts_df0-input_gene_expr_df0-expected_gene_expr_df0]","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","","test_rollup","",""
"
        Given a canonical collection with a published version and an unpublished version with is_auto_version == False,
        creating an unpublished collection version where is_auto_verison is False will fail.
        ","15","test_create_collection_version_multiple_auto_versions_false_fails","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","321","test__query_non_indexed_dim_single_and_multi_valued__returns_correct_result","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","ExpressionDotPlotTest","test_expression_dotplot","",""
"A manifest is provided without a fragment, and the anndata has an optional fragment. This will pass
        validation.","0","test_optional_and_fragment","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestSkipATACValidation","test_process_validate_atac","",""
"","42","test_when_item_is_in_config_and_is_in_env_and_use_env_is_set_we_use_env","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"","5","test__get_dataset_assets","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","3","test__delete_key__401","tests.unit.backend.layers.auth","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestKeys","test_auth_keys","",""
"A cellxgene public dataset url must already be uploaded","9","test_reingest_published_atac_dataset__not_in_found","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","6","test__create_key__201","tests.unit.backend.layers.auth","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestKeys","test_auth_keys","",""
"","3","test_migrate_published_collection","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestCollectionMigrate","test_collection_migrate","",""
"
    Test the cropping method to ensure the image is cropped to a square
    ","1","test__crop_to_aspect_ratio[55-30]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"","1","test_type_inference[parameters77]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","301","test_term_vs_label_colors","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestColorConversionUtils","test_color_conversion_utils","",""
"","12","test_delete_of_unknown_secret_raises_exception","tests.unit.backend.layers.utils","Tue Sep 23 22:26:15 UTC 2025","passed","Tue Sep 23 22:26:15 UTC 2025","TestAwsSecret","test_aws_secret","",""
"","1","test_remove_duplicate_dataset_assets","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_common","",""
"","13","test_init_of_unknown_secret_does_not_set_secret_metadata","tests.unit.backend.layers.utils","Tue Sep 23 22:26:15 UTC 2025","passed","Tue Sep 23 22:26:15 UTC 2025","TestAwsSecret","test_aws_secret","",""
"
        Checks data submission policy is correctly saved on publish of a revision.
        ","14","test__publish_revision_data_submission_policy_version__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"Correctly identifies a valid search result from NCBI","1","test_unexpected_ncbi_responses","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"","0","test_type_inference[parameters43]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","9","test_delete_collection_version__public__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestCollectionDeletion","test_portal_api","",""
"","5","test__link__202","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPostUploadLink","test_portal_api","",""
"","0","test_parse_event_with_empty_event","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","59","test__process_all_chromosomes[cell_type_mapping2-invalid_fragment_coordinates1]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test dynamic buffer sizing based on available memory.","53","test_consolidate_tiledb_memory_optimization_buffer_sizing","tests.unit.processing","Tue Sep 23 22:27:33 UTC 2025","passed","Tue Sep 23 22:27:33 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"
        Call process download using an s3 uri
        ","4","test_download_from_s3_uri","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessDownload","test_process_validate_h5ad","",""
"Test create_dataframe_array() creates TileDB schema correctly.","2","test__create_dataframe_array[tiledb_array_config2]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"A manifest is provided without a fragment, and the anndata does not require one. This will pass
        validation.","1","test_optional_and_no_fragment","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestSkipATACValidation","test_process_validate_atac","",""
"
        A collection with an invalid DOI will be created with empty publisher metadata
        ","1","test_create_collection_with_doi_error_ignores_metadata_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCreateCollection","test_business","",""
"Test _process_all_chromosomes() handles missing cells correctly.","38","test__process_all_chromosomes_missing_cells[cell_type_mapping2]","tests.unit.processing","Tue Sep 23 22:27:24 UTC 2025","passed","Tue Sep 23 22:27:24 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","171","test__primary_filter_dimensions__returns_valid_response_body","tests.unit.backend.wmg.api","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","WmgApiV2Tests","test_v2","",""
"","8","test__remove_collection__consortia__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"","154","test_extract_metadata_find_raw_layer","tests.unit.processing","Tue Sep 23 22:27:30 UTC 2025","passed","Tue Sep 23 22:27:30 UTC 2025","TestAddLabels","test_extract_metadata","",""
"","20","test_get_dataset_in_a_tombstoned_collection_410","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"Integration test for process_fragment_file.","633","test__process_fragment_file_integration[cell_type_mapping2-organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:26 UTC 2025","passed","Tue Sep 23 22:27:27 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Run method when check_datasets returns errors.","1","test_run_neg","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestPublishRevisions","test_publish_revisions","",""
"
        Publish a revision with delete datasets.
        ","17","test__publish_revision_with_removed_datasets__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"","17","test__provider_does_not_call_crossref_in_test","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"","12","test__dataset_meta__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","1","test_type_inference[parameters87]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","7","test_concurrency","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestConcurrentUpdates","test_business","",""
"
        Calling DELETE /collections/:collection_id/datasets/:dataset_id should return a 403 in all cases with auth
        credentials, and a 401 without auth credentials
        ","18","test__delete_dataset_by_version_id","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestDeleteDataset","test_curation_api","",""
"","1","test_type_inference[parameters73]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"A cellxgene public dataset url must be part of a version of the canonical dataset","17","test_reginest_published_atac_dataset__not_part_of_canonical_dataset","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","1","test_type_inference[parameters42]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","2","test_catch_errors","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestDeleteAtacFragmentFiles","test_handle_error","",""
"","15","test__verify_expected_public_collection_fields","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","44","test__slash_in_attribute_name","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","1","test_type_inference[parameters72]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","17","test__set_collection_version_datasets_get_order_custom_sort__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"
        GET /collections/:collection_id retrieves the published version given a canonical collection_id
        ","11","test__get_collection_id_retrieves_published_version_by_collection_id","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"
        Calling Put /datasets/:dataset_id with a bad published anndata link should fail with 400
        ","7","test_with_bad_already_ingested_anndata__400","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestFlag","test_curation_api","",""
"","1","test__prerelease_properly_formatted_semvar__returns_true","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSemvarUtils","test_semvar_utils","",""
"","3","test_exception_handle_catches_errors","tests.unit.wmg_processing","Tue Sep 23 22:26:40 UTC 2025","passed","Tue Sep 23 22:26:40 UTC 2025","TestCubePipe","test_cube_pipeline","",""
"","9","test__update_collection__links_None_does_not_remove_publisher_metadata","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"
        Publishing a version with a dataset removed should succeed
        ","20","test_publish_version_with_removed_dataset_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionOperations","test_business","",""
"","8","test_post_datasets_no_auth_401","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostDataset","test_curation_api","",""
"","24","test_delete_new_dataset_in_revision__ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"Test _file_exists returns False for non-existing local file.","0","test__file_exists_local_file_not_exists","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_log_suppressed__caught","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_logger","",""
"","11","test__get_all_datasets_for_index","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","1","test__get_dtypes_and_schemas_of_dataframe__dtype_and_schema_returns_as_expected","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","TestTypeConversionUtils","test_type_conversion_utils","",""
"","1","test__validate_with_invalid_url__returns_none","tests.unit.backend.layers.utils","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCXGPubURL","test_uri","",""
"","0","test__link__INVALID[doi-://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"
        A Collection can be tombstoned
        ","7","test_tombstone_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionOperations","test_business","",""
"
        Tests that the path we use for writing the snapshot is the versioned path.

        NOTE: Ideally, we would want this to be a true test of the cube pipeline that actually runs the pipeline,
        mocks the S3 upload, and then verifies that the API reads are pulling from the correct mocked S3 files.
        This way, we're testing the high-level functionality of the cube pipeline and the API calls directly.
        Since our testing infra doesn't currently support S3 mocks well, the past of least resistance is to test
        the lower level functions that WMG uses to figure out where to write and read snapshots from.
        ","0","test_versioned_s3_paths","tests.unit.wmg_processing","Tue Sep 23 22:26:40 UTC 2025","passed","Tue Sep 23 22:26:40 UTC 2025","TestCubePipe","test_cube_pipeline","",""
"","3","test_replace_existing_fragment","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateAtac","test_process_validate_atac","",""
"","46926","test_expression_summary_and_cell_counts","tests.unit.wmg_processing","Tue Sep 23 22:27:08 UTC 2025","passed","Tue Sep 23 22:27:55 UTC 2025","ExpressionSummaryAndCellCountsTests","test_expression_summary_and_cell_counts","",""
"","8","test_get_dataset_atac_assets","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetDatasets","test_curation_api","",""
"","32","test_init_of_existing_secret_retrieves_secret_metadata","tests.unit.backend.layers.utils","Tue Sep 23 22:26:15 UTC 2025","passed","Tue Sep 23 22:26:15 UTC 2025","TestAwsSecret","test_aws_secret","",""
"","0","test_datetime","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestCustomJSONEncoder","test_json","",""
"","1","test_get_spatial_metadata__is_single_true_and_fullres_false","tests.unit.processing","Tue Sep 23 22:27:31 UTC 2025","passed","Tue Sep 23 22:27:31 UTC 2025","TestAddLabels","test_extract_metadata","",""
"","1","test_anndata_validation_success[{""anndata"": ""https://example.com/dataset.h5ad""}]","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_manifest","",""
"","0","test_type_inference[parameters15]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test__link__INVALID[doi-google]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","1","test__link__INVALID[raw_data-.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"Integration test for process_fragment_file.","516","test__process_fragment_file_integration[cell_type_mapping0-organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:25 UTC 2025","passed","Tue Sep 23 22:27:25 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","4","test__post_collection_rejects_invalid_consortia","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","0","test_type_inference[parameters47]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","1","test_type_inference[parameters68]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","8","test__get_collection_versions_tombstoned__410","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionVersions","test_curation_api","",""
"","4","test__post_collection_ignores_metadata_if_crossref_exception","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"
    Test that the `rollup` function correctly accumulates (or rolls up) gene-expression
    values FOR EACH expressed gene and cell count values up the cell type ANCESTOR paths
    grouped by (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>).

    The input:

    1. A cell type ontology subgraph consisting of 4 cell types.

    CL:0000127
    ├── CL:0000644
    ├── CL:0002605
    └── CL:0002627

    2. A gene expression dataframe consisting of expression numeric values for each
    (gene_ontology_term_id, tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    3. The gene expression dataframe also holds total cell counts per tissue_ontology_term_id.
    This value is held in a column called `n_cells_tissue`.
    6. A cell counts dataframe that consists of cell counts for each
    (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    7. We set the `n_cells_tissue` column values to 1000 for all rows
    in the gene expression dataframe.
    8. We set all other numeric column values to `1` in the gene expression dataframe.

    The expected output:

    1. A rolled up gene expression dataframe.
    2. A rolled up cell counts dataframe.
    3. Assert that `n_cells_tissue` column value in the rolled up gene expression dataframe
    does not change for all rows because it should not be rolled up the cell type ontology
    ancestor paths.
    4. Assert that other numeric column values (i.e the columns that are not `n_cells_tissue`)
    in the rolled up gene expression dataframe hold the correct rolled up values.
    5. Assert that the cell counts in the rolled up cell counts dataframe hold the correct
    rolled up values.
    ","20","test__rollup[no_compare_dim_gene_expressed_in_one_tissue_but_not_other-input_cell_counts_df2-expected_cell_counts_df2-input_gene_expr_df2-expected_gene_expr_df2]","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","","test_rollup","",""
"","1","test_delete_artifacts_with_no_match","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"
        ProcessDownloadValidate should:
        1. Download the h5ad artifact
        2. Add labels to h5ad
        2. Set upload status to UPLOADED
        3. set h5ad status to UPLOADED
        4. upload the labeled file to S3
        ","7","test_process_add_labels","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","ProcessingTest","test_process_add_labels","",""
"","1848","test_cell_type_orderings","tests.unit.wmg_processing","Tue Sep 23 22:26:37 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","CellTypeOrderingTests","test_cell_type_ordering","",""
"Test write_binned_coverage_per_chrom() full pipeline orchestration.","53","test__write_binned_coverage_per_chrom_full_pipeline","tests.unit.processing","Tue Sep 23 22:27:24 UTC 2025","passed","Tue Sep 23 22:27:24 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Integration test for process_fragment_file.","631","test__process_fragment_file_integration[cell_type_mapping0-organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:24 UTC 2025","passed","Tue Sep 23 22:27:25 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test normalized coverage calculation when total_coverage is 0.","0","test__normalized_coverage_zero_total","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","44","test__get_collection_versions__200","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionVersions","test_curation_api","",""
"","4","test__update_with_invalid_collection_consortia","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","10","test_link_public_collection__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPostUploadLink","test_portal_api","",""
"","0","test__link__INVALID[lab_website-://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"Test ValueError when organism_ontology_term_id column is missing.","1","test__extract_cell_metadata_missing_organism_column[cell_type_mapping0]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","17","test_delete_published_dataset__fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"","11","test__resurrect_collection","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","TestTombstone","test_tombstone","",""
"","2","test_create_migration_revision__published_no_revision","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestCollectionMigrate","test_collection_migrate","",""
"","9","test__tombstone_collection","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","TestTombstone","test_tombstone","",""
"","4","test__update_collection__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","0","test_convert_color_to_hex_format","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestColorConversionUtils","test_color_conversion_utils","",""
"","3","test__post_token__401","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestAuthToken","test_curation_api","",""
"Test ATACDataProcessor initialization with valid fragment file path.","0","test__constructor_valid_file_path","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test_type_inference[parameters11]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","5","test__update_collection_new_doi_updates_metadata","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"Test copy_cxg_files_to_cxg_bucket with clear_existing=True","3","test_copy_cxg_files_to_cxg_bucket_clear_existing_true","tests.unit.processing","Tue Sep 23 22:27:37 UTC 2025","passed","Tue Sep 23 22:27:37 UTC 2025","ProcessingTest","test_processing","",""
"Test _cleanup_temp_files removes downloaded temp files.","0","test__cleanup_temp_files_temp_files","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        Attempting to update a dataset with an invalid title raises an exception.
        ","4","test_update_dataset_artifact_metadata_invalid_title_error","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","2","test__query_missing_gene__request_returns_400","tests.unit.backend.wmg.api","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","WmgApiV2Tests","test_v2","",""
"","7","test__cancel_dataset_download__202_user_not_collection_owner_as_super_curator","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDatasetCurators","test_portal_api","",""
"","9","test__publish_collection_triggers_cloudfront_invalidation","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"
        Start a revision on a non-existing collection.
        ","3","test__revision_nonexistent__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestRevision","test_portal_api","",""
"Test cell metadata extraction with valid obs DataFrame.","2","test__extract_cell_metadata_valid_obs[cell_type_mapping2-organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test__link__OK[raw_data-http://somewhere.org/path/?abcd=123]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"Test _download_s3_file successfully downloads S3 file and index.","5","test__download_s3_file_s3_success","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test fallback behavior when memory-optimized consolidation fails.","53","test_consolidate_tiledb_fallback_handling","tests.unit.processing","Tue Sep 23 22:27:33 UTC 2025","passed","Tue Sep 23 22:27:33 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"
        Crossref should not be called to check for updates to the publisher metadata when publishing
        a revision that has no DOI.
        ","18","test_publish_revision_no_doi_crossref_not_checked_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"
        Reuploads an unpublished dataset
        ","9","test__reupload_unpublished_dataset__202","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPutUploadLink","test_portal_api","",""
"","5","test__create_collection__InvalidParameters_DOI","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","3","test__dataset_meta__404","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"
        When publishing a revision - and there is no change in DOI - publisher metadata should not be
        updated if the deposited date is before the revised at or originally published at date of the
        corresponding collection.
        ","19","test_publish_revision_same_doi_publisher_metadata_not_updated_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","399","test_anndata_colors_to_cxg_colors","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestColorConversionUtils","test_color_conversion_utils","",""
"","1","test_type_inference[parameters34]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        Only collection versions with the specified owner should be returned, including both published and unpublished
        ","13","test_get_all_collections_with_owner_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetAllCollections","test_business","",""
"","1","test_type_inference[parameters29]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"revision_of contains the id to their published counterpart","13","test__get_collections_with_auth__OK_4","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","3","test__delete_key__202","tests.unit.backend.layers.auth","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestKeys","test_auth_keys","",""
"","1","test_type_inference[parameters22]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_type_inference[parameters1]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","1","test_type_inference[parameters18]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","8","test__bad_link__400","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPostUploadLink","test_portal_api","",""
"
        Reupload a published dataset during a revision
        ","12","test__reupload_published_dataset_during_revision__202","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPutUploadLink","test_portal_api","",""
"","3","test_post_datasets_with_collection_version_id_403","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostDataset","test_curation_api","",""
"","4","test__remove_collection_consortia","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","89","test__query_single_primary_dims__returns_200_and_correct_response","tests.unit.backend.wmg.api","Tue Sep 23 22:26:39 UTC 2025","passed","Tue Sep 23 22:26:39 UTC 2025","WmgApiV2Tests","test_v2","",""
"","4","test__create_collection__strip_string_fields","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestPostCollection","test_curation_api","",""
"","374","test__query_no_genes__returns_200_and_correct_response","tests.unit.backend.wmg.api","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","WmgApiV2Tests","test_v2","",""
"
    Test case for verifying the required metadata is present
    ","1","test__valid_input_metadata_copy","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"","3","test_has_valid_artifact_statuses__invalid_rds_status_0","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"","122","test__query_explicit_cell_ordering__returns_correct_cell_ordering","tests.unit.backend.wmg.api","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","WmgApiV2Tests","test_v2","",""
"","0","test_type_inference[parameters36]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","58123","test_marker_genes_cube","tests.unit.wmg_processing","Tue Sep 23 22:28:55 UTC 2025","passed","Tue Sep 23 22:29:53 UTC 2025","MarkerGenesTests","test_marker_genes","",""
"","0","test_type_inference[parameters21]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","3","test__is_matrix_sparse__partially_populated_dense_matrix_returns_false","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestMatrixUtils","test_matrix_utils","",""
"","1","test_get_spatial_metadata__is_single_and_fullres_true","tests.unit.processing","Tue Sep 23 22:27:31 UTC 2025","passed","Tue Sep 23 22:27:31 UTC 2025","TestAddLabels","test_extract_metadata","",""
"","0","test_type_inference[parameters27]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        Calling PUT /datasets/:dataset_id should fail with 403 Unauthorized
        if the authenticated user is not the owner of a collection
        ","9","test__from_link__Not_Owner","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestATAC","test_curation_api","",""
"
        Successfully raises exception for ensembl IDs that do not exist
        ","131","test_incorrect_gene_ids","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"","0","test__release_only_misformatted_version__returns_false","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSemvarUtils","test_semvar_utils","",""
"
        A collection with links can be created using `create_collection`
        ","1","test_create_collection_with_links_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCreateCollection","test_business","",""
"
        Publishing a version with a dataset added should succeed
        ","25","test_publish_version_with_added_dataset_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","2","test__provider_parses_authors_and_dates_correctly","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"","0","test_type_inference[parameters45]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"A cellxgene public dataset url can be used to ingest a new dataset version.","14","test_reingest_published_atac_dataset","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","1","test__link__INVALID[raw_data-://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","12","test_update_metadata__raw_h5ad_updated","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"
    Test the cropping method to ensure the image is cropped to a square
    ","0","test__crop_to_aspect_ratio[23-11]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"","123","test__to_cxg__simple_anndata_with_different_var_index_than_h5ad","tests.unit.processing","Tue Sep 23 22:27:33 UTC 2025","passed","Tue Sep 23 22:27:33 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","19","test_get_manifest_cases_ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestGetDatasetManifest","test_curation_api","",""
"","42","test__convert_matrices_to_cxg_arrays__sparse_array_only_store_nonzeros","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestCxgGenerationUtils","test_cxg_generation_utils","",""
"","10","test__set_collection_version_datasets_order_published_collection__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","0","test__link__INVALID[lab_website-https://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","2","test_error_wrapper","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","","test_error_wrapper","",""
"","29","test__generate_s3_credentials__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestS3Credentials","test_curation_api","",""
"","1","test_type_inference[parameters79]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","1","test_type_inference[parameters84]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","5","test_patch_private_collection_dataset_not_authorized_403","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestPatchDataset","test_curation_api","",""
"","1","test_adata_with_canonical_X","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestEnforceCanonical","test_matrix_utils","",""
"Test _file_exists returns True for existing local file.","1","test__file_exists_local_file_exists","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        Test the pipeline successfully copies from mock s3, loads corpus and correctly builds cube/cell_ordering files
        and correctly uploads files to mock s3
        ","0","test_pipeline_creates_files","tests.unit.wmg_processing","Tue Sep 23 22:26:40 UTC 2025","skipped","Tue Sep 23 22:26:40 UTC 2025","TestCubePipe","test_cube_pipeline","",""
"","0","test_anndata_validation_failure[{""atac_fragments"": ""https://example.com/fragments.tsv.gz""}]","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_manifest","",""
"","0","test__link__OK[doi-http://somewhere.org/path/?abcd=123]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","3","test_get","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestVersion","test_version","",""
"","12723","test__query_marker_genes_cube__returns_correct_all_markers","tests.unit.backend.wmg","Tue Sep 23 22:27:05 UTC 2025","passed","Tue Sep 23 22:27:17 UTC 2025","QueryTest","test_query","",""
"","8","test__post_revision_by_collection_version_id_403","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostRevision","test_curation_api","",""
"
        Calling PUT /datasets/:dataset_id  should fail if version IDs are used for unpublished collections or
        for referencing datasets
        ","11","test_from_link__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestFlag","test_curation_api","",""
"","1","test_migration_event_does_not_trigger_slack","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
"
        Attempting to update a dataset without providing a title raises an exception.
        ","3","test_update_dataset_artifact_metadata_missing_title_error","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","3","test__post_collection_fails_if_data_missing","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"
        Calling PUT /datasets/:dataset_id should fail with 401 Unauthorized if the user is not authenticated
        ","6","test__from_link__no_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPutLink","test_curation_api","",""
"
        Successfully parses a properly formatted XML tree for gene information
        ","2","test_correct_parse_xml_tree","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"
        Calling PUT /datasets/:dataset_id should fail with 403 Unauthorized
        if trying to upload to a published collection
        ","12","test__from_link__Not_Public","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifest","test_curation_api","",""
"
        `update_collection` should support partial updates: if only a subset of the fields are specified,
        the previous field should not be modified
        ","6","test_update_collection_partial_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollection","test_business","",""
"","0","test__sizeof_formatted__converts_to_gb","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestMathUtils","test_math_utils","",""
"","3","test_delete_non_owned_private_collection_as_super_curator__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestCollectionsCurators","test_portal_api","",""
"","12","test__cancel_dataset_download__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","0","test_datetime_with_millis","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestCuratorJSONEncoder","test_json","",""
"
        A collection with a DOI that cannot be found on Crossref will not be created
        ","1","test_create_collection_with_not_found_doi_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCreateCollection","test_business","",""
"","3","test_adata_with_noncanonical_raw_X","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestEnforceCanonical","test_matrix_utils","",""
"","1","test_get_spatial_metadata__is_single_true_and_no_library_id","tests.unit.processing","Tue Sep 23 22:27:31 UTC 2025","passed","Tue Sep 23 22:27:31 UTC 2025","TestAddLabels","test_extract_metadata","",""
"","2","test_type_inference[parameters74]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","14","test_revision_restoring_previously_published_dataset","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestSetPreviousDatasetVersion","test_business","",""
"
        Delete a collection under revision.
        ","36","test__revision_deleted__204","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDeleteRevision","test_portal_api","",""
"","1","test_type_inference[parameters52]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","4","test__post_collection_ignores_metadata_if_no_doi","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"
        Calling `ingest_dataset` on a collection that does not exist should fail
        ","1","test_add_dataset_to_non_existing_collection_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","7","test_rollback_public_collection","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"","1","test_type_inference[parameters19]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_delete_skipped[DatasetConversionStatus.COPIED]","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestDeleteAtacFragmentFiles","test_handle_error","",""
"","0","test_invalid_email[@.]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","1","test_type_inference[parameters81]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","1","test_rollback[rollback_args1]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"
        All the collection versions for all collections should be returned by `get_collections`, including published,
        unpublished, and all owners.
        ","45","test_get_all_collections_unfiltered_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetAllCollections","test_business","",""
"
        Get currently published dataset version using canonical dataset ID, or most recent active unpublished dataset
        if none are published.
        ","24","test_get_dataset_version_from_canonical","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetDataset","test_business","",""
"
        Adding a dataset artifact with an unsupported type should fail
        ","3","test_add_dataset_artifact_wrong_type_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","0","test_type_inference[parameters12]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","25","test_get_dataset_version_ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasetVersion","test_curation_api","",""
"Updating a dataset to remove the optional fragment.","2","test_existing_dataset_with_fragment_removed","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateAtac","test_process_validate_atac","",""
"","0","test_delete_skipped[DatasetConversionStatus.SKIPPED]","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestDeleteAtacFragmentFiles","test_handle_error","",""
"
        Calling `get_dataset_artifact_download_data` should yield downloadable data
        ","7","test_get_dataset_artifact_download_data_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetDataset","test_business","",""
"
        Calling PUT /datasets/:dataset_id on an existing dataset_id should succeed if a valid link is uploaded by the
        owner of the collection or a super curator
        ","49","test__existing_from_link__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestFlag","test_curation_api","",""
"","7","test_patch_private_collection_dataset_invalid_status_405","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestPatchDataset","test_curation_api","",""
"
        Given a canonical collection with a published version and no unpublished versions,
        creating an unpublished collection version where is_auto_verison is True will succeed.
        ","13","test_create_collection_version_is_auto_version_succeeds","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"
        Adding a dataset to a published collection should result in a failure
        ","9","test_add_dataset_to_published_collection_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"
        Successfully calls NCBIProvider fetch and search functions with both ID and name params
        ","3","test_gene_info_with_id_and_name","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"","4","test__get_manifest_by_missing_dataset_id_fails","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestGetDatasetManifest","test_curation_api","",""
"","12427","test__query_marker_genes_cube__returns_correct_top_10_markers","tests.unit.backend.wmg","Tue Sep 23 22:27:17 UTC 2025","passed","Tue Sep 23 22:27:30 UTC 2025","QueryTest","test_query","",""
"","4","test__cancel_dataset_download__user_not_logged_in","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"
        ProcessDownloadValidate should:
        1. Download the h5ad artifact
        2. Set DatasetStatusKey.H5AD DatasetValidationStatus.VALIDATING
        3. Validate the h5ad
        4. Set DatasetStatusKey.H5AD DatasetValidationStatus.VALID
        5. Set the DatasetStatusKey.RDS DatasetConversionStatus.SKIPPED accordingly
        6. upload the original file to S3

        ","4","test_process_download_validate_success","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateH5AD","test_process_validate_h5ad","",""
"","0","test_type_inference[parameters14]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","9","test_patch_private_collection_dataset_super_202","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestPatchDataset","test_curation_api","",""
"Test _get_fragment_file_path returns cached path on subsequent calls.","1","test__get_fragment_file_path_cached","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test__gene_label","tests.unit.wmg_processing","Tue Sep 23 22:29:53 UTC 2025","passed","Tue Sep 23 22:29:53 UTC 2025","OntologyLabelTests","test_ontology_labels","",""
"
        Attemping to update a dataset in a public collection raises an exception.
        ","9","test_update_dataset_artifact_metadata_public_collection_error","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","7","test_rollback_private_collection","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"","0","test_unsupported_type","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestCustomJSONEncoder","test_json","",""
"","9","test__call_delete_dataset__twice","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","8","test__get_collection_versions_not_a_uuid__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionVersions","test_curation_api","",""
"","9","test_update_collection_with_empty_required_fields","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"
        Returns correct dictionary with missing values if given XML tree with missing values
        ","1","test_parse_xml_tree_missing_values","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","GeneInfoAPIv1Tests","test_gene_info","",""
"","158","test__to_cxg__simple_anndata_with_corpora_and_sparse","tests.unit.processing","Tue Sep 23 22:27:32 UTC 2025","passed","Tue Sep 23 22:27:33 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","4","test__query_containing_tissue__request_returns_400","tests.unit.backend.wmg.api","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","WmgApiV2Tests","test_v2","",""
"Test cell metadata extraction with valid obs DataFrame.","2","test__extract_cell_metadata_valid_obs[cell_type_mapping0-organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_type_inference[parameters31]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","4","test__get_dataset_asset__dataset_NOT_FOUND","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"","11","test_trigger_dataset_artifact_update__with_new_dataset_version_id","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestDatasetArtifactMetadataUpdates","test_business","",""
"
        Attempting to set the order of the datasets in a collection version with a list of different length should fail.
        ","5","test_set_collection_version_datasets_order_length_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestSetCollectionVersionDatasetsOrder","test_business","",""
"","7","test__curation_api_swagger_ui__returns_200","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestAPI","test_app","",""
"Check datasets when one of the dataset has not been migrated to the latest schema version.","0","test_check_datasets_not_latest_version","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestPublishRevisions","test_publish_revisions","",""
"
        Outdated, unused Dataset assets and rows in private Collection not deleted until after Collection is published
        ","19","test_cleanup_occurs_after_publication_of_private_collection","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestDeleteDataset","test_business","",""
"","3","test__post_collection_rejects_two_dois","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","1","test_close_ready_for_prod_no_issues","tests.unit.scripts","Tue Sep 23 22:25:54 UTC 2025","passed","Tue Sep 23 22:25:54 UTC 2025","TestCloseReadyForProd","test_zenhub_close","",""
"","1","test_type_inference[parameters65]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","57","test__primary_filter_dimensions__returns_200","tests.unit.backend.wmg.api","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","WmgApiV2Tests","test_v2","",""
"","5","test__post_collection_fails_with_extra_fields","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"
        Calling PUT /datasets/:dataset_id should fail with 403 Unauthorized
        if trying to upload to a published collection
        ","13","test__from_link__Not_Public","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestATAC","test_curation_api","",""
"","1","test_register_pos","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestRegisteredSources","test_uri","",""
"","19","test_delete_published_dataset_in_revision__success","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"","0","test__link__INVALID[data_source-https://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"Test _cleanup_temp_files when no temp files exist.","0","test__cleanup_temp_files_no_temp_files","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_get_failure_slack_notification_message_with_dataset_version_id_none","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
"Test chromosome mapping creation for different genomes.","1","test__build_chrom_mapping[organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_generate","tests.unit.backend.layers.utils","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestAPIKey","test_api_key","",""
"","1","test_invalid_characters_in_field[\x7ftext]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","1","test_type_inference[parameters82]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","64","test__create_h5ad_data_file__copy_if_var_index_name_not_in_columns","tests.unit.processing","Tue Sep 23 22:27:31 UTC 2025","passed","Tue Sep 23 22:27:32 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"","4","test__set_collection_version_datasets_order_missing_datasets__400","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"
        An unpublished collection should not be obtained using get_collection
        Instead, `get_collection_version` should be used
        ","3","test_get_published_collection_version_for_published_collection_is_none","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetCollectionVersion","test_business","",""
"","3","test_has_valid_artifact_statuses_0","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"","10","test_patch_private_collection_dataset_owner_202","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestPatchDataset","test_curation_api","",""
"
        The order of the datasets in a collection version is the default cell count, descending.
        ","9","test_set_collection_version_datasets_order_no_custom_order_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestSetCollectionVersionDatasetsOrder","test_business","",""
"
    Test that _fetch_image returns the fullres image when present.
    ","0","test__fetch_image_fullres","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_spatial_assets_utils","",""
"","11898","test__query_expression_summary_default_cube__returns_correct_results","tests.unit.backend.wmg","Tue Sep 23 22:26:53 UTC 2025","passed","Tue Sep 23 22:27:05 UTC 2025","QueryTest","test_query","",""
"","9","test_post_datasets_public_collection_405","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPostDataset","test_curation_api","",""
"","12","test__set_collection_version_datasets_order__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","0","test__link__INVALID[lab_website-.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","1","test_with_mixed_collection_types","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestGatherCollections","test_gather_collections","",""
"","6","test_update_metadata__error_if_missing_raw_h5ad","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"","7","test__update_private_collection_dataset_invalid_collection__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDataset","test_portal_api","",""
"
        Asserts an CrossrefParseException if the GET request succeeds but cannot be parsed
        ","1","test__provider_throws_exception_if_request_cannot_be_parsed","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestCrossrefProvider","test_crossref_provider","",""
"","1","test_invalid_email[email@.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","8","test__can_publish_non_owned_collection_as_super_curator","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestPublishRevision","test_portal_api","",""
"","0","test_enum","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestCustomJSONEncoder","test_json","",""
"","18","test__list_collection__check_owner__auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"revision_of contains None if the collection is unpublished","4","test__get_collections_with_auth__OK_6","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"
        The dataset artifact metadata can be updated with sanitized values.
        ","9","test_update_dataset_artifact_metadata_sanitized_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"Test cell metadata extraction with valid obs DataFrame.","2","test__extract_cell_metadata_valid_obs[cell_type_mapping1-organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","51","test__create_h5ad_data_file__copies_index_of_obs_and_var_to_column","tests.unit.processing","Tue Sep 23 22:27:31 UTC 2025","passed","Tue Sep 23 22:27:31 UTC 2025","TestH5ADDataFile","test_h5ad_data_file","",""
"Test that direct assignment doesn't create intermediate data structures.","44","test__stream_coverage_direct_assignment_memory_efficiency","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","10","test__update_public_collection_owner__405","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"
        A collection updated with a new DOI should get new publisher metadata from Crossref
        ","2","test_update_collection_change_doi","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollection","test_business","",""
"","9","test_get_datasets_atac_seq","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:06 UTC 2025","TestGetDatasets","test_curation_api","",""
"","2941","test__ontology_term_label","tests.unit.wmg_processing","Tue Sep 23 22:29:53 UTC 2025","passed","Tue Sep 23 22:29:56 UTC 2025","OntologyLabelTests","test_ontology_labels","",""
"A cellxgene public dataset url cannot be used to create a new canonical dataset.","7","test_ingest_published_anndata_dataset_in_new_dataset__not_allowed","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"Check that no files are deleted if buckets are not specified.","2","test_cleanup_artifacts__no_buckets","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestCleanupArtifacts","test_handle_error","",""
"","6","test_get_collection_with_no_datasets","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionID","test_curation_api","",""
"
        Test convert_coverage_to_cxg_array creates ATACDataProcessor and processes fragment file correctly.
        ","2","test__convert_coverage_to_cxg_array[cell_type_mapping2-organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:27 UTC 2025","passed","Tue Sep 23 22:27:27 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Check that all artifacts are deleted for the given cases.","1","test_cleanup_artifacts__validate_atac_OK","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestCleanupArtifacts","test_handle_error","",""
"","3","test_has_valid_artifact_statuses__invalid_atac_status_0","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestValidArtifactStatuses","test_dataset_metadata_update","",""
"Test FileNotFoundError is raised when fragment file doesn't exist.","1","test__constructor_file_not_found","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test that delete_files handles empty key lists correctly","1","test_delete_files_empty_keys","tests.unit.backend.layers.thirdparty","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestS3Provider","test_s3_provider","",""
"","4","test__update_collection_consortia","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"
        Calling DELETE /collections/:collection_id/datasets/:dataset_id should work according to the
        auth token passed and when using canonical ids. In this case, the unpublished collection
        version will be looked up and used for deletion.
        ","20","test__delete_dataset_by_canonical_id","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestDeleteDataset","test_curation_api","",""
"","4","test_process_cxg_success","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","ProcessingTest","test_processing","",""
"
        Calling PUT /datasets/:dataset_id  should fail if version IDs are used for unpublished collections or
        for referencing datasets
        ","11","test_from_link__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifest","test_curation_api","",""
"","32","test_value_of_unknown_secret_raises_exception","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestAwsSecret","test_aws_secret","",""
"","1","test_type_inference[parameters71]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","3","test__update_collection__no_auth","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"","6","test__generate_s3_credentials__by_collection_version_id","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestS3Credentials","test_curation_api","",""
"","0","test_type_inference[parameters17]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"
        An empty dataset can be added to a collection when `create_empty_dataset` is called.
        The resulting dataset should be empty and in a state ready for processing.
        ","1","test_add_empty_dataset_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"
        All dataset that belong to a published collection can be retrieved with `get_all_mapped_datasets`
        ","11","test_get_all_datasets_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetDataset","test_business","",""
"","5","test__update_collection_same_doi_does_not_update_metadata","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"
    Test that the `rollup` function correctly accumulates (or rolls up) gene-expression
    values FOR EACH expressed gene and cell count values up the cell type ANCESTOR paths
    grouped by (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>).

    The input:

    1. A cell type ontology subgraph consisting of 4 cell types.

    CL:0000127
    ├── CL:0000644
    ├── CL:0002605
    └── CL:0002627

    2. A gene expression dataframe consisting of expression numeric values for each
    (gene_ontology_term_id, tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    3. The gene expression dataframe also holds total cell counts per tissue_ontology_term_id.
    This value is held in a column called `n_cells_tissue`.
    6. A cell counts dataframe that consists of cell counts for each
    (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    7. We set the `n_cells_tissue` column values to 1000 for all rows
    in the gene expression dataframe.
    8. We set all other numeric column values to `1` in the gene expression dataframe.

    The expected output:

    1. A rolled up gene expression dataframe.
    2. A rolled up cell counts dataframe.
    3. Assert that `n_cells_tissue` column value in the rolled up gene expression dataframe
    does not change for all rows because it should not be rolled up the cell type ontology
    ancestor paths.
    4. Assert that other numeric column values (i.e the columns that are not `n_cells_tissue`)
    in the rolled up gene expression dataframe hold the correct rolled up values.
    5. Assert that the cell counts in the rolled up cell counts dataframe hold the correct
    rolled up values.
    ","19","test__rollup[no_compare_dim_all_tissues_have_all_cell_types_except_root_cell_type-input_cell_counts_df5-expected_cell_counts_df5-input_gene_expr_df5-expected_gene_expr_df5]","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","","test_rollup","",""
"","1","test_type_inference[parameters94]","tests.unit.processing","Tue Sep 23 22:27:42 UTC 2025","passed","Tue Sep 23 22:27:42 UTC 2025","","test_type_conversion_utils","",""
"
        Calling PUT /datasets/:dataset_id should succeed if a valid link is uploaded by the owner of the collection or
        a super curator
        ","47","test__new_from_link__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestPutManifestATAC","test_curation_api","",""
"A published fragment is used in the manifest. This will pass validation, but the hash of the new file is
        different, so a new artifact will be added to the dataset version.","3","test_old_fragment_replaced_because_hash_difference","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestProcessValidateAtac","test_process_validate_atac","",""
"","3","test_delete_collection__not_owner","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollectionDeletion","test_portal_api","",""
"","1","test_type_inference[parameters32]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","57","test__process_all_chromosomes[cell_type_mapping1-invalid_fragment_coordinates4]","tests.unit.processing","Tue Sep 23 22:27:23 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","2","test_get_failure_slack_notification_message_with_missing_collection","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
"
        Publishing a collection with updated metadata should succeed, but not update revised_at
        ","17","test_publish_version_with_updated_metadata_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionOperations","test_business","",""
"","0","test_type_inference[parameters7]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","8","test_trigger_dataset_artifact_update__error_if_published","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestDatasetArtifactMetadataUpdates","test_business","",""
"Test _stream_coverage_chunks_to_tiledb() with parametrized datasets.","20","test__stream_coverage_chunks_small_dataset[coverage_aggregator_data1]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_type_inference[parameters83]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","414","test__query_request_multi_primary_dims_only__returns_200_and_correct_response","tests.unit.backend.wmg.api","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:39 UTC 2025","WmgApiV2Tests","test_v2","",""
"","1032","test_get_dataset_id_versions_ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:06 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestGetDatasetIdVersions","test_curation_api","",""
"
        When publishing an auto_version, do NOT cleanup dataset versions from an open revision
        ","22","test_publish_version_cleanup_with_auto_version","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"A manifest is provided without a fragment, and the anndata requires one. This will fail validation.","1","test_required_and_missing_fragment","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestSkipATACValidation","test_process_validate_atac","",""
"Test handling of zero total coverage scenarios.","17","test__stream_coverage_zero_total_coverage_handling","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_type_inference[parameters86]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_type_inference[parameters8]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"Test _cleanup_temp_files doesn't delete original local files.","1","test__cleanup_temp_files_local_file_no_cleanup","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","0","test_type_inference[parameters4]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","32153","test__source_collections_generator","tests.unit.backend.cellguide.pipeline","Tue Sep 23 22:31:14 UTC 2025","passed","Tue Sep 23 22:31:46 UTC 2025","TestSourceCollectionsGenerator","test_source_collections_generator","",""
"","0","test__link__OK[other-https://www.google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","24","test_get_collection_version_ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestGetCollectionVersionID","test_curation_api","",""
"","2061","test_update_of_existing_secret_updates_secret","tests.unit.backend.layers.utils","Tue Sep 23 22:26:15 UTC 2025","passed","Tue Sep 23 22:26:17 UTC 2025","TestAwsSecret","test_aws_secret","",""
"","5","test__update_collection_remove_doi_deletes_metadata","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","5","test_reprocess_cxg_success","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","ProcessingTest","test_processing","",""
"","0","test__link__OK[data_source-https://www.google.com]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"
        Starting a revision on a revision.
        ","28","test__revision__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestRevision","test_portal_api","",""
"Integration test for process_fragment_file.","519","test__process_fragment_file_integration[cell_type_mapping1-organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:26 UTC 2025","passed","Tue Sep 23 22:27:26 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","4","test__add_new_collection_consortia","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestUpdateCollection","test_portal_api","",""
"","10","test__convert_dictionary_to_cxg_group__writes_successfully","tests.unit.processing","Tue Sep 23 22:27:28 UTC 2025","passed","Tue Sep 23 22:27:28 UTC 2025","TestCxgGenerationUtils","test_cxg_generation_utils","",""
"
        Attempting to update a dataset with a non-success processing status raises an exception.
        ","4","test_update_dataset_artifact_metadata_invalid_status_error","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","9","test__update_collection__doi_is_not_CURIE_reference__BAD_REQUEST","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"","315","test__query_agg_tissue_counts__returns_correct_result","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","ExpressionDotPlotTest","test_expression_dotplot","",""
"
        An unauthorized user should not be able to delete a collection revision
        ","25","test__delete_revision_unauth__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestDeleteRevision","test_portal_api","",""
"Test ValueError when organism_ontology_term_id column is missing.","0","test__extract_cell_metadata_missing_organism_column[cell_type_mapping2]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"
        A tombstoned Collection's versions can only be obtained if the `get_tombstoned` flag is explicitly set to True
        ","23","test_get_collection_version_for_tombstoned_collection","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestGetCollectionVersion","test_business","",""
"
        If a collection is unpublished, GET /collections/:collection_id retrieves the unpublished version
        when passed the canonical collection_id
        ","4","test__get_collection_id_retrieves_unpublished_version","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","9","test_update_raw_h5ad","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestDatasetMetadataUpdaterWorker","test_dataset_metadata_update","",""
"","1","test_type_inference[parameters80]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","17","test_populate_dataset_citation__no_publication_doi","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","ProcessingTest","test_process_add_labels","",""
"
        A dataset artifact can be updated using `update_dataset_artifact`
        ","8","test_update_dataset_artifact_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestUpdateDataset","test_business","",""
"","0","test_type_inference[parameters26]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","3","test__get_key__404","tests.unit.backend.layers.auth","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestKeys","test_auth_keys","",""
"","4","test__link_no_auth__401","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPostUploadLink","test_portal_api","",""
"","2","test__query_empty_request__returns_400","tests.unit.backend.wmg.api","Tue Sep 23 22:26:38 UTC 2025","passed","Tue Sep 23 22:26:38 UTC 2025","WmgApiV2Tests","test_v2","",""
"
        Calling PUT /datasets/:dataset_id on an existing dataset_id should succeed if a valid link is uploaded by the
        owner of the collection or a super curator
        ","48","test__existing_from_link__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:07 UTC 2025","passed","Tue Sep 23 22:26:07 UTC 2025","TestPutLink","test_curation_api","",""
"Test cell metadata extraction with valid obs DataFrame.","3","test__extract_cell_metadata_valid_obs[cell_type_mapping0-organism_genome_pair0]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","15","test_deleted_collection_does_not_appear_in_collection_lists","tests.unit.backend.layers.api","Tue Sep 23 22:26:09 UTC 2025","passed","Tue Sep 23 22:26:09 UTC 2025","TestCollectionDeletion","test_portal_api","",""
"
        When publishing a collection version, is_auto_version should be set to False
        ","16","test_publish_version_sets_is_auto_version_False","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestCollectionOperations","test_business","",""
"","1","test_type_inference[parameters56]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test_timedelta","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestCustomJSONEncoder","test_json","",""
"","0","test_anndata_validation_success[{""anndata"": ""https://example.com/dataset.h5ad"", ""atac_fragments"": ""https://example.com/fragments.tsv.gz""}]","tests.unit.backend.common","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","","test_manifest","",""
"
        Unable to publish a revision with no datasets.
        ","10","test__publish_revision_with_all_removed_datasets__409","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"","0","test_type_inference[parameters57]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","2003","test__gpt_seo_description_generator","tests.unit.backend.cellguide.pipeline","Tue Sep 23 22:27:21 UTC 2025","passed","Tue Sep 23 22:27:23 UTC 2025","TestGptDescriptionGenerator","test_gpt_descriptions","",""
"Test ValueError when obs_column is missing from DataFrame.","0","test__extract_cell_metadata_missing_obs_column[organism_genome_pair1]","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"Test that direct array assignment produces consistent results.","17","test__stream_coverage_direct_assignment_consistency","tests.unit.processing","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","17","test_populate_dataset_citation__with_publication_doi","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","ProcessingTest","test_process_add_labels","",""
"","4","test__link_not_owner__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCollectionPostUploadLink","test_portal_api","",""
"","10","test__collection_level_processing_status__FAILURE","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","0","test_parse_event_with_invalid_error_cause","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
"Test that the hash_file method returns the correct hash.","1","test_hash_file","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","TestHashFile","test_process_validate_atac","",""
"Test _process_all_chromosomes() processes fragments from all chromosomes.","58","test__process_all_chromosomes[cell_type_mapping2-invalid_fragment_coordinates3]","tests.unit.processing","Tue Sep 23 22:27:24 UTC 2025","passed","Tue Sep 23 22:27:24 UTC 2025","TestATACDataProcessor","test_atac_processing_utils","",""
"","1","test_type_inference[parameters78]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","0","test__link__OK[lab_website-http://somewhere.org/path/?abcd=123]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"
        A collection where a link isn't a http URI cannot be created
        ","1","test_create_collection_with_bad_links_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestCreateCollection","test_business","",""
"","7","test_get_ingest_manifest","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestGetDataset","test_business","",""
"","18","test_update_cxg__with_spatial_deepzoom_assets","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestDatasetMetadataUpdaterWorker","test_dataset_metadata_update","",""
"","0","test__link__INVALID[data_source-://]","tests.unit.backend.layers.common","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","","test_validation","",""
"","1","test_delete_artifacts_artifact_type_doesnt_match_regex","tests.unit.backend.layers.business","Tue Sep 23 22:26:11 UTC 2025","passed","Tue Sep 23 22:26:11 UTC 2025","TestDeleteDataset","test_business","",""
"
        Individually-tombstoned Datasets should remain tombstoned after resurrection of their parent Collection.
        ","21","test_resurrect_collection_with_tombstoned_dataset_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:12 UTC 2025","passed","Tue Sep 23 22:26:12 UTC 2025","TestCollectionOperations","test_business","",""
"","1","test_rollback[rollback_args4]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_rollback","",""
"","41","test_when_item_is_in_config_but_not_in_env_and_use_env_is_set_we_use_config","tests.unit.backend.layers.utils","Tue Sep 23 22:26:19 UTC 2025","passed","Tue Sep 23 22:26:19 UTC 2025","TestSecretConfig","test_secret_config","",""
"","28","test__get_a_curators_collections","tests.unit.backend.layers.api","Tue Sep 23 22:26:04 UTC 2025","passed","Tue Sep 23 22:26:04 UTC 2025","TestGetCollections","test_curation_api","",""
"","0","test__validate_with_invalid_s3_uri__returns_none","tests.unit.backend.layers.utils","Tue Sep 23 22:26:20 UTC 2025","passed","Tue Sep 23 22:26:20 UTC 2025","TestS3URI","test_uri","",""
"
        A collection version should be updated when using `update_collection`
        ","6","test_update_collection_ok","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollection","test_business","",""
"","20","test_update_cxg","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestDatasetMetadataUpdaterWorker","test_dataset_metadata_update","",""
"
        Calling `ingest_dataset` and specifying an existing dataset should fail if the dataset is not in the
        final status
        ","7","test_replace_dataset_in_wrong_status_fail","tests.unit.backend.layers.business","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestUpdateCollectionDatasets","test_business","",""
"","12","test_update_metadata__rds_skipped","tests.unit.processing","Tue Sep 23 22:27:29 UTC 2025","passed","Tue Sep 23 22:27:29 UTC 2025","TestUpdateMetadataHandler","test_dataset_metadata_update","",""
"Run method when revision is skipped via do_not_publish_list.","1","test_run_pos__do_not_publish_list","tests.unit.processing.schema_migration","Tue Sep 23 22:27:22 UTC 2025","passed","Tue Sep 23 22:27:22 UTC 2025","TestPublishRevisions","test_publish_revisions","",""
"Verify the test collection exists and the expected fields exist.","28","test__get_collection_id__ok","tests.unit.backend.layers.api","Tue Sep 23 22:26:08 UTC 2025","passed","Tue Sep 23 22:26:08 UTC 2025","TestCollection","test_portal_api","",""
"","0","test_type_inference[parameters13]","tests.unit.processing","Tue Sep 23 22:27:41 UTC 2025","passed","Tue Sep 23 22:27:41 UTC 2025","","test_type_conversion_utils","",""
"","4","test__update_collection__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"
        Publish a collection with a bad uuid (non existant) returns 403
        ","3","test__publish_revision_bad_id__403","tests.unit.backend.layers.api","Tue Sep 23 22:26:10 UTC 2025","passed","Tue Sep 23 22:26:10 UTC 2025","TestPublishRevision","test_portal_api","",""
"","7","test__update_collection__consortia__OK","tests.unit.backend.layers.api","Tue Sep 23 22:26:05 UTC 2025","passed","Tue Sep 23 22:26:05 UTC 2025","TestPatchCollectionID","test_curation_api","",""
"
    Test that the `rollup` function correctly accumulates (or rolls up) gene-expression
    values FOR EACH expressed gene and cell count values up the cell type ANCESTOR paths
    grouped by (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>).

    The input:

    1. A cell type ontology subgraph consisting of 4 cell types.

    CL:0000127
    ├── CL:0000644
    ├── CL:0002605
    └── CL:0002627

    2. A gene expression dataframe consisting of expression numeric values for each
    (gene_ontology_term_id, tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    3. The gene expression dataframe also holds total cell counts per tissue_ontology_term_id.
    This value is held in a column called `n_cells_tissue`.
    6. A cell counts dataframe that consists of cell counts for each
    (tissue_ontology_term_id, cell_type_ontology_term_id, <compare_dimension>) tuple.
    7. We set the `n_cells_tissue` column values to 1000 for all rows
    in the gene expression dataframe.
    8. We set all other numeric column values to `1` in the gene expression dataframe.

    The expected output:

    1. A rolled up gene expression dataframe.
    2. A rolled up cell counts dataframe.
    3. Assert that `n_cells_tissue` column value in the rolled up gene expression dataframe
    does not change for all rows because it should not be rolled up the cell type ontology
    ancestor paths.
    4. Assert that other numeric column values (i.e the columns that are not `n_cells_tissue`)
    in the rolled up gene expression dataframe hold the correct rolled up values.
    5. Assert that the cell counts in the rolled up cell counts dataframe hold the correct
    rolled up values.
    ","22","test__rollup[with_ethnicity_compare_dim_on_single_tissue-input_cell_counts_df4-expected_cell_counts_df4-input_gene_expr_df4-expected_gene_expr_df4]","tests.unit.backend.wmg.api.common","Tue Sep 23 22:26:13 UTC 2025","passed","Tue Sep 23 22:26:13 UTC 2025","","test_rollup","",""
"","436","test__schema4__filter_request_with_empty_criteria__excludes_comma_delimited_ethnicity_values","tests.unit.backend.wmg.api","Tue Sep 23 22:26:39 UTC 2025","passed","Tue Sep 23 22:26:40 UTC 2025","WmgApiV2Tests","test_v2","",""
"","0","test_parse_event_without_error_cause","tests.unit.processing","Tue Sep 23 22:27:34 UTC 2025","passed","Tue Sep 23 22:27:34 UTC 2025","","test_handle_error","",""
