name: Test Sending Repository Dispatch

on:
  push:
    branches:
      - "*"

jobs:
  test_sending_repository_dispatch:
    runs-on: ubuntu-latest
    steps:
      - name: Test Basic Sending Workflow Trigger
        run: echo "Hello! Test Sending Repository Dispatch starts...."
      - name: Test Sending Repository Dispatch
        uses: peter-evans/repository-dispatch@v2
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          event-type: test-repository-dispatch
          client-payload: '{"ref": "refs/heads/staging"}'
