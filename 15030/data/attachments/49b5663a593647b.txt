{"levelname": "INFO", "asctime": "2023-08-25T04:49:53.025Z", "name": "backend.layers.processing.schema_migration", "message": "checking dataset", "lineno": 207, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "dataset_id": "dataset_id_2", "dataset_version_id": "new_failed_dataset_version_id", "previous_dataset_version_id": "prev_failed_dataset_version_id"}
{"levelname": "ERROR", "asctime": "2023-08-25T04:49:53.025Z", "name": "backend.layers.processing.schema_migration", "message": "rds conversion failed", "lineno": 231, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "dataset_status": {"upload_status": null, "validation_status": null, "cxg_status": null, "rds_status": null, "h5ad_status": null, "processing_status": "DatasetProcessingStatus.FAILURE", "validation_message": "rds conversion failed"}, "collection_id": "collection_id", "collection_version_id": "collection_version_id", "dataset_version_id": "new_failed_dataset_version_id", "dataset_id": "dataset_id_2", "rollback": true}
{"levelname": "INFO", "asctime": "2023-08-25T04:49:53.025Z", "name": "backend.layers.processing.schema_migration", "message": "checking dataset", "lineno": 207, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "dataset_id": "dataset_id_3", "dataset_version_id": "new_non_migrated_dataset_version_id", "previous_dataset_version_id": "prev_non_migrated_dataset_version_id"}
{"levelname": "ERROR", "asctime": "2023-08-25T04:49:53.025Z", "name": "backend.layers.processing.schema_migration", "message": "Did Not Migrate.", "lineno": 219, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "collection_id": "collection_id", "collection_version_id": "collection_version_id", "dataset_version_id": "new_non_migrated_dataset_version_id", "dataset_id": "dataset_id_3", "rollback": false}
{"levelname": "INFO", "asctime": "2023-08-25T04:49:53.025Z", "name": "backend.layers.processing.schema_migration", "message": "Deleting files", "lineno": 235, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "artifact_bucket": "artifact-bucket", "object_keys": ["prev_failed_dataset_version_id/migrated.h5ad", "prev_non_migrated_dataset_version_id/migrated.h5ad"]}
{"levelname": "INFO", "asctime": "2023-08-25T04:49:53.025Z", "name": "backend.layers.processing.schema_migration", "message": "Uploaded to S3", "lineno": 258, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "file_name": "/tmp/pytest-of-root/pytest-0/test_with_errors0/collection_version_id.json", "bucket": "artifact-bucket", "key": "schema_migration/test-execution-arn/report/collection_version_id.json"}
