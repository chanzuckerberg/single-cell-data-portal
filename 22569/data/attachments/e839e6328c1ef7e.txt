{"levelname": "INFO", "asctime": "2024-11-15T15:53:52.015Z", "name": "processing", "message": "Downloaded from S3", "lineno": 331, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "file_name": "/tmp/pytest-of-root/pytest-0/test_with_errors0/data.json", "bucket": "artifact-bucket", "key": "schema_migration/test-execution-arn/log_errors_and_cleanup/collection_id.json", "data": {"datasets": [{"dataset_id": "dataset_id_1", "dataset_version_id": "prev_successful_dataset_version_id"}, {"dataset_id": "dataset_id_2", "dataset_version_id": "prev_failed_dataset_version_id"}, {"dataset_id": "dataset_id_3", "dataset_version_id": "prev_non_migrated_dataset_version_id"}]}}
{"levelname": "INFO", "asctime": "2024-11-15T15:53:52.015Z", "name": "processing", "message": "checking dataset", "lineno": 231, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "dataset_id": "dataset_id_2", "dataset_version_id": "new_failed_dataset_version_id", "previous_dataset_version_id": "prev_failed_dataset_version_id"}
{"levelname": "ERROR", "asctime": "2024-11-15T15:53:52.015Z", "name": "processing", "message": "rds conversion failed", "lineno": 268, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "dataset_status": {"upload_status": null, "validation_status": null, "cxg_status": null, "rds_status": null, "h5ad_status": null, "processing_status": "DatasetProcessingStatus.FAILURE", "validation_message": "rds conversion failed"}, "collection_id": "collection_id", "collection_version_id": "collection_version_id", "dataset_version_id": "new_failed_dataset_version_id", "dataset_id": "dataset_id_2", "rollback": true}
{"levelname": "INFO", "asctime": "2024-11-15T15:53:52.015Z", "name": "processing", "message": "checking dataset", "lineno": 231, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "dataset_id": "dataset_id_3", "dataset_version_id": "new_non_migrated_dataset_version_id", "previous_dataset_version_id": "prev_non_migrated_dataset_version_id"}
{"levelname": "ERROR", "asctime": "2024-11-15T15:53:52.015Z", "name": "processing", "message": null, "lineno": 285, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "dataset_status": {"upload_status": null, "validation_status": null, "cxg_status": null, "rds_status": null, "h5ad_status": null, "processing_status": "DatasetProcessingStatus.SUCCESS", "validation_message": null}, "collection_id": "collection_id", "collection_version_id": "collection_version_id", "dataset_version_id": "new_non_migrated_dataset_version_id", "dataset_id": "dataset_id_3", "rollback": false}
{"levelname": "INFO", "asctime": "2024-11-15T15:53:52.015Z", "name": "processing", "message": "Deleting files", "lineno": 289, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "artifact_bucket": "artifact-bucket", "object_keys": ["prev_failed_dataset_version_id/migrated.h5ad", "prev_non_migrated_dataset_version_id/migrated.h5ad"]}
{"levelname": "INFO", "asctime": "2024-11-15T15:53:52.015Z", "name": "processing", "message": "Uploaded to S3", "lineno": 313, "pathname": "/single-cell-data-portal/backend/layers/processing/schema_migration.py", "file_name": "/tmp/pytest-of-root/pytest-0/test_with_errors0/collection_version_id.json", "bucket": "artifact-bucket", "key": "schema_migration/test-execution-arn/report/errors/collection_version_id.json"}
