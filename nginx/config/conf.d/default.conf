events { }
error_log /dev/stdout info;
http {
  access_log /dev/stdout;
  server {
    listen      3000;
    server_name frontend.corporanet.local localhost;
  
#    location / {
#      rewrite ^/(.*)$ https://frontend_http.corporanet.local:443/$1 redirect;
#    }
     return 301 https://frontend.corporanet.local$request_uri;
  }

  server {
    listen      443 ssl;
    listen      [::]:443 ssl;
    ssl         on;
    server_name frontend.corporanet.local localhost;
  
    ssl_certificate /etc/ssl/certs/server.crt;
    ssl_certificate_key /etc/ssl/private/server.key;
  
    ssl_protocols TLSv1.2;
  
#    location / {
#      proxy_pass  http://frontend_http.corporanet.local:3001;
#      proxy_set_header X-Forwarded-Proto https;
#      proxy_set_header Host $host;
#      proxy_redirect off;
#    }
  }
  
#  server {
#    listen      5000;
#    listen      443 ssl;
#    listen      [::]:443 ssl;
#    server_name backend.corporanet.local;
#  
#    location / {
#      proxy_pass  http://backend.corporanet.local:5000;
#    }
#  }
}  
